<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Capstone I: Lead a Feature | Junior Accelerator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../shared/css/lesson-interactive.css">
  <link rel="stylesheet" href="../../shared/css/activity-carousel.css">
</head>
<body data-course="junior" data-lesson="ch5-capstone1">
  <header class="header">
    <div class="header-content">
      <a href="../../index.html" class="logo">
        <div class="logo-icon">üî•</div>
        <span>Lead a Feature</span>
      </a>
      <nav class="nav-links">
        <a href="../index.html">‚Üê Junior</a>
        <a href="../ch4-architect/">Ch 4</a>
        <a href="index.html" class="active">Ch 5</a>
        <a href="../ch6-capstone2/">Ch 6: Capstone II</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="page-header">
      <div class="breadcrumb">
        <a href="../index.html">Junior Accelerator</a>
        <span>/</span>
        <span>Capstone I: Lead a Feature</span>
      </div>
      <h1>üî• Capstone I: Lead a Feature</h1>
      <p>Seniors don't just write code‚Äîthey <strong>own outcomes</strong>. This week, you take a real feature from design to deployment.</p>
    </div>

    <!-- Audio Info -->
    <section class="section audio-info-section">
      <div class="info-box compact">
        <div class="info-header">
          <span class="info-icon">üéôÔ∏è</span>
          <div>
            <h4>Interactive Learning Experience</h4>
            <p>Watch diagrams come alive with AI narration ‚Ä¢ Click dots to jump ‚Ä¢ Test your understanding with quizzes</p>
          </div>
        </div>
        <div class="voice-options">
          <span class="voice-badge">üë©‚Äçüé§ Female Storyteller</span>
          <span class="voice-badge">üé© Male UK Storyteller</span>
        </div>
      </div>
    </section>

    <!-- Story 1: The Ownership Mindset -->
    <section class="section" id="ownership-mindset-section">
      <h2>The Ownership Mindset</h2>
      <p>What separates juniors from seniors? It's not years of experience‚Äîit's taking full responsibility for a feature's success, from idea to production.</p>
      
      <div class="diagram-container" id="ownership-mindset-container">
        <div class="diagram-header">
          <span class="diagram-title">üß† From Ticket-Taker to Feature Owner</span>
        </div>
        <div id="ownership-mindset-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="ownership-mindset-story-caption">
          <div class="story-step">
            <div class="story-icon visible">üöÄ</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">‚Üí</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">‚ñ∂ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="ownership-mindset-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>‚è±Ô∏è</label>
            <select id="ownership-mindset-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="ownership-mindset-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">üîä</span>
            </button>
          </div>
          <div class="control-group">
            <label>üé§</label>
            <select id="ownership-mindset-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Activity Carousels -->
      <div class="activity-carousels">
        <div class="carousel-container" id="mindset-comprehension"></div>
        <div class="carousel-container" id="mindset-application"></div>
        <div class="carousel-container" id="mindset-synthesis"></div>
      </div>
    </section>

    <!-- Story 2: The Full Ownership Lifecycle -->
    <section class="section" id="ownership-lifecycle-section">
      <h2>The Full Ownership Lifecycle</h2>
      <p>From requirements through retrospective, understand every phase of taking a feature from idea to production.</p>
      
      <div class="diagram-container" id="ownership-lifecycle-container">
        <div class="diagram-header">
          <span class="diagram-title">üéØ The Complete Journey</span>
        </div>
        <div id="ownership-lifecycle-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="ownership-lifecycle-story-caption">
          <div class="story-step">
            <div class="story-icon visible">üöÄ</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">‚Üí</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">‚ñ∂ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="ownership-lifecycle-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>‚è±Ô∏è</label>
            <select id="ownership-lifecycle-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="ownership-lifecycle-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">üîä</span>
            </button>
          </div>
          <div class="control-group">
            <label>üé§</label>
            <select id="ownership-lifecycle-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Activity Carousels -->
      <div class="activity-carousels">
        <div class="carousel-container" id="lifecycle-comprehension"></div>
        <div class="carousel-container" id="lifecycle-application"></div>
        <div class="carousel-container" id="lifecycle-synthesis"></div>
      </div>
    </section>

    <!-- Story 3: What Makes a Real Feature -->
    <section class="section" id="real-feature-section">
      <h2>What Makes a Real Feature</h2>
      <p>This capstone isn't a toy project. Learn what qualifies as a real feature that demonstrates senior-level ownership.</p>
      
      <div class="diagram-container" id="real-feature-container">
        <div class="diagram-header">
          <span class="diagram-title">‚úÖ Real Feature Requirements</span>
        </div>
        <div id="real-feature-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="real-feature-story-caption">
          <div class="story-step">
            <div class="story-icon visible">üöÄ</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">‚Üí</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">‚ñ∂ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="real-feature-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>‚è±Ô∏è</label>
            <select id="real-feature-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="real-feature-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">üîä</span>
            </button>
          </div>
          <div class="control-group">
            <label>üé§</label>
            <select id="real-feature-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Activity Carousels -->
      <div class="activity-carousels">
        <div class="carousel-container" id="real-feature-comprehension"></div>
        <div class="carousel-container" id="real-feature-application"></div>
        <div class="carousel-container" id="real-feature-synthesis"></div>
      </div>
    </section>

    <!-- Next Steps -->
    <section class="section">
      <h2>Ready to Lead?</h2>
      <p>You've learned the ownership mindset, the full lifecycle, and what makes a real feature. Now it's time to pick your feature and start leading. After this capstone, continue to Capstone II for AI-paired development.</p>
      <div class="cards-grid" style="grid-template-columns: repeat(2, 1fr);">
        <a href="../ch6-capstone2/" class="card">
          <div class="card-icon">ü§ñ</div>
          <h3>Chapter 6: Capstone II</h3>
          <p>AI-Paired Development‚Äîleverage AI tools to accelerate your next feature.</p>
        </a>
        <a href="../index.html" class="card">
          <div class="card-icon">üìö</div>
          <h3>Course Overview</h3>
          <p>See all chapters in the Junior Accelerator.</p>
        </a>
      </div>
    </section>
  </main>

  <nav class="page-nav">
    <h4>On This Page</h4>
    <ul>
      <li><a href="#ownership-mindset-section">The Ownership Mindset</a></li>
      <li><a href="#ownership-lifecycle-section">Full Ownership Lifecycle</a></li>
      <li><a href="#real-feature-section">What Makes a Real Feature</a></li>
    </ul>
  </nav>

  <button class="back-to-top" title="Back to top">‚Üë</button>

  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.min.js"></script>
  <!-- Firebase & Activity Tracking -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="../../shared/js/firebase-config.js"></script>
  <script src="../../shared/js/auth.js"></script>
  <script src="../../shared/js/data-service.js"></script>
  <script src="../../shared/js/activity-tracker.js"></script>

  <!-- Activity Type Scripts -->
  <script src="../../shared/js/activities/base-activity.js"></script>
  <script src="../../shared/js/activities/quiz-activity.js"></script>
  <script src="../../shared/js/activities/true-false-activity.js"></script>
  <script src="../../shared/js/activities/fill-blank-activity.js"></script>
  <script src="../../shared/js/activities/sequence-activity.js"></script>
  <script src="../../shared/js/activities/drag-drop-activity.js"></script>
  <script src="../../shared/js/activities/connect-edges-activity.js"></script>
  <script src="../../shared/js/activities/scenario-activity.js"></script>
  <script src="../../shared/js/activities/prediction-activity.js"></script>
  <script src="../../shared/js/activities/reflection-activity.js"></script>
  <script src="../../shared/js/activities/graph-builder-activity.js"></script>
  <script src="../../shared/js/activity-carousel.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dagre/0.8.5/dagre.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-dagre@2.5.0/cytoscape-dagre.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-cose-bilkent@4.1.0/cytoscape-cose-bilkent.min.js"></script>
  
  <!-- Interactive Engines -->
  <script src="../../shared/js/interactive/diagram-utils.js"></script>
  <script src="../../shared/js/interactive/audio-engine.js"></script>
  <script src="../../shared/js/interactive/storytelling-diagram.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      // Initialize Firebase FIRST
      if (window.FirebaseApp) {
        window.FirebaseApp.init();
        console.log('‚úÖ Firebase initialized');
      }
      
      // Initialize AuthService and wait for auth state
      if (window.AuthService) {
        window.AuthService.init();
        await window.AuthService.waitForAuthState();
        console.log('üë§ Auth ready:', window.AuthService.getUser()?.email || 'not signed in');
      }
      
      // Initialize ActivityTracker AFTER auth is ready
      const courseId = document.body.dataset.course;
      const lessonId = document.body.dataset.lesson;
      if (courseId && lessonId && window.ActivityTracker) {
        ActivityTracker.init(courseId, lessonId);
        console.log('üéØ ActivityTracker initialized:', courseId, lessonId);
      }

      // Initialize page animations
      DiagramUtils.initPageAnimations();
      DiagramUtils.setupBackToTop();

      // Load story and quiz data from JSON
      const response = await fetch('story.json');
      const pageData = await response.json();

      // Create a shared audio engine pointing to the audio folder
      const audioEngine = new AudioNarrationEngine('audio');

      // ============================================
      // DIAGRAM ELEMENTS (Cytoscape data)
      // ============================================

      const diagramElements = {
        'ownership-mindset': [
          // Nodes
          { data: { id: 'mindset-shift', label: 'üß† Mindset Shift\nJunior ‚Üí Senior', type: 'concept', description: 'The ownership difference' } },
          { data: { id: 'clarify-requirements', label: 'üìã Clarify\nRequirements', type: 'example', description: 'Ask questions, define done' } },
          { data: { id: 'design-solution', label: 'üìê Design\nSolution', type: 'data', description: 'Docs, diagrams, buy-in' } },
          { data: { id: 'implement', label: 'üíª Implement\nwith Excellence', type: 'service', description: 'Code, tests, self-review' } },
          { data: { id: 'ship-monitor', label: 'üöÄ Ship &\nMonitor', type: 'page', description: 'Deploy and watch metrics' } },
          // Edges
          { data: { source: 'mindset-shift', target: 'clarify-requirements' } },
          { data: { source: 'clarify-requirements', target: 'design-solution' } },
          { data: { source: 'design-solution', target: 'implement' } },
          { data: { source: 'implement', target: 'ship-monitor' } }
        ],

        'ownership-lifecycle': [
          // Nodes
          { data: { id: 'lifecycle-start', label: 'üéØ Complete\nJourney', type: 'concept', description: 'Own every phase' } },
          { data: { id: 'requirements-phase', label: 'üìã Requirements\nPhase', type: 'external', description: 'Meet stakeholders' } },
          { data: { id: 'design-phase', label: 'üìê Design\nPhase', type: 'data', description: 'Architecture docs' } },
          { data: { id: 'implementation-phase', label: 'üíª Implementation\nPhase', type: 'service', description: 'Code with tests' } },
          { data: { id: 'review-phase', label: 'üîç Review &\nPolish', type: 'auth', description: 'Address feedback' } },
          { data: { id: 'deploy-retro', label: 'üèÜ Deploy &\nRetrospective', type: 'page', description: 'Ship and learn' } },
          // Edges
          { data: { source: 'lifecycle-start', target: 'requirements-phase' } },
          { data: { source: 'requirements-phase', target: 'design-phase' } },
          { data: { source: 'design-phase', target: 'implementation-phase' } },
          { data: { source: 'implementation-phase', target: 'review-phase' } },
          { data: { source: 'review-phase', target: 'deploy-retro' } }
        ],

        'real-feature': [
          // Nodes
          { data: { id: 'not-toy', label: 'üéØ Not a Toy\nProject', type: 'concept', description: 'Real value required' } },
          { data: { id: 'must-be-real', label: '‚úÖ Must Be\nReal', type: 'example', description: 'Actual impact' } },
          { data: { id: 'multiple-components', label: 'üì¶ Multiple\nComponents', type: 'service', description: 'Frontend + backend' } },
          { data: { id: 'has-stakeholders', label: 'üë• Has\nStakeholders', type: 'external', description: 'Someone cares' } },
          { data: { id: 'is-deployable', label: 'üöÄ Deployable to\nProduction', type: 'page', description: 'Ready to ship' } },
          // Edges
          { data: { source: 'not-toy', target: 'must-be-real' } },
          { data: { source: 'must-be-real', target: 'multiple-components' } },
          { data: { source: 'multiple-components', target: 'has-stakeholders' } },
          { data: { source: 'has-stakeholders', target: 'is-deployable' } }
        ]
      };

      // ============================================
      // INITIALIZE STORYTELLING DIAGRAMS
      // ============================================

      // Map story IDs to diagram element keys
      const storyToDiagram = {
        'ownership-mindset-story': 'ownership-mindset',
        'ownership-lifecycle-story': 'ownership-lifecycle',
        'real-feature-story': 'real-feature'
      };

      // Create storytelling diagrams for each story in the JSON
      pageData.stories.forEach(story => {
        const diagramKey = storyToDiagram[story.id];
        if (!diagramKey) return;

        const elements = diagramElements[diagramKey];
        if (!elements) return;

        new StorytellingDiagram(
          story.id,
          elements,
          story.steps,
          { audioEngine, storyId: story.id }
        );
      });

      // ============================================
      // ACTIVITY CAROUSELS - OWNERSHIP MINDSET SECTION
      // ============================================

      const mindsetComprehension = new ActivityCarousel('mindset-comprehension', {
        type: 'comprehension',
        sectionId: 'ownership-mindset',
        title: 'Check Your Understanding',
        activities: [
          {
            type: 'quiz',
            id: 'mindset-comp-q1',
            question: 'What is the core difference between junior and senior mindset regarding features?',
            options: [
              'Seniors write more code',
              'Seniors own the entire lifecycle from requirements to production',
              'Juniors work faster',
              'Seniors delegate more tasks'
            ],
            correct: 1,
            explanation: 'Ownership means taking responsibility for the entire feature lifecycle, not just the coding part.',
            points: 10
          },
          {
            type: 'quiz',
            id: 'mindset-comp-q2',
            question: 'What does "clarify requirements" mean in the ownership mindset?',
            options: [
              'Wait for someone to tell you what to do',
              'Make assumptions about what users want',
              'Ask questions to define what "done" looks like',
              'Read the ticket and start coding'
            ],
            correct: 2,
            explanation: 'Clarifying requirements means proactively asking questions to understand the full scope.',
            points: 10
          },
          {
            type: 'true-false',
            id: 'mindset-comp-tf1',
            statement: 'Ship & Monitor means your job is done once the code is merged.',
            correct: false,
            explanation: 'Ownership extends to production. You monitor the feature, watch metrics, and respond to issues.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'true-false',
            id: 'mindset-comp-tf2',
            statement: 'Designing the solution includes creating docs and diagrams to get buy-in.',
            correct: true,
            explanation: 'Good design involves documentation that others can review and approve before implementation.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'fill-blank',
            id: 'mindset-comp-fill1',
            statement: 'Implement with ___ means writing code, tests, and doing self-review.',
            correctAnswers: ['excellence', 'quality', 'care'],
            caseSensitive: false,
            hints: ['A word describing high-quality work'],
            explanation: 'Excellence in implementation includes thorough testing and self-review before asking others to review.',
            points: 10
          },
          {
            type: 'fill-blank',
            id: 'mindset-comp-fill2',
            statement: 'The ownership mindset represents a shift from ___ to senior thinking.',
            correctAnswers: ['junior', 'task-focused', 'basic'],
            caseSensitive: false,
            hints: ['What level comes before senior?'],
            explanation: 'This mindset shift is what distinguishes senior-level ownership from junior task execution.',
            points: 10
          }
        ]
      });
      mindsetComprehension.init();

      const mindsetApplication = new ActivityCarousel('mindset-application', {
        type: 'application',
        sectionId: 'ownership-mindset',
        title: 'Apply What You Learned',
        activities: [
          {
            type: 'sequence',
            id: 'mindset-app-seq1',
            instruction: 'Order the ownership lifecycle from first to last:',
            items: [
              { id: 's1', text: 'Clarify Requirements' },
              { id: 's2', text: 'Design Solution' },
              { id: 's3', text: 'Implement with Excellence' },
              { id: 's4', text: 'Ship & Monitor' }
            ],
            correctOrder: ['s1', 's2', 's3', 's4'],
            hints: {
              partial: 'Start by understanding what you need to build.',
              wrong: 'Clarify ‚Üí Design ‚Üí Implement ‚Üí Ship'
            },
            explanation: 'The ownership lifecycle flows from understanding to design to implementation to deployment.',
            points: 20
          },
          {
            type: 'drag-drop',
            id: 'mindset-app-dd1',
            instruction: 'Categorize each behavior as Junior or Senior mindset:',
            items: [
              { id: 'j1', text: 'Wait for detailed specifications' },
              { id: 's1', text: 'Proactively clarify requirements' },
              { id: 'j2', text: 'Code is done when PR is merged' },
              { id: 's2', text: 'Monitor feature in production' },
              { id: 'j3', text: 'Just implement the ticket' },
              { id: 's3', text: 'Design and document solution' }
            ],
            zones: [
              { id: 'junior', label: 'üë∂ Junior Mindset', correct: ['j1', 'j2', 'j3'] },
              { id: 'senior', label: 'üßì Senior Mindset', correct: ['s1', 's2', 's3'] }
            ],
            explanation: 'Senior mindset = proactive, full lifecycle. Junior mindset = reactive, task-focused.',
            points: 20
          },
          {
            type: 'connect-edges',
            id: 'mindset-app-connect1',
            instruction: 'Connect each ownership phase to what it produces:',
            nodes: [
              { id: 'clarify', label: 'üìã Clarify' },
              { id: 'design', label: 'üìê Design' },
              { id: 'implement', label: 'üíª Implement' },
              { id: 'ship', label: 'üöÄ Ship' },
              { id: 'requirements', label: 'Clear success criteria' },
              { id: 'docs', label: 'Architecture docs' },
              { id: 'code', label: 'Tested code' },
              { id: 'metrics', label: 'Production data' }
            ],
            solution: {
              edges: [
                { source: 'clarify', target: 'requirements' },
                { source: 'design', target: 'docs' },
                { source: 'implement', target: 'code' },
                { source: 'ship', target: 'metrics' }
              ]
            },
            explanation: 'Each phase produces tangible deliverables.',
            points: 25
          },
          {
            type: 'quiz',
            id: 'mindset-app-quiz1',
            question: 'Your PM gives you a vague feature request. What\'s the senior move?',
            options: [
              'Start coding based on your interpretation',
              'Wait for more detailed specs',
              'Schedule time to clarify requirements before designing',
              'Ask a more experienced developer what to do'
            ],
            correct: 2,
            explanation: 'Seniors proactively clarify rather than waiting or assuming.',
            points: 15
          },
          {
            type: 'sequence',
            id: 'mindset-app-seq2',
            instruction: 'Order these from least to most ownership:',
            items: [
              { id: 'o1', text: 'Implement ticket and merge PR' },
              { id: 'o2', text: 'Implement and respond to code review' },
              { id: 'o3', text: 'Design, implement, and deploy' },
              { id: 'o4', text: 'Clarify, design, implement, ship, and monitor' }
            ],
            correctOrder: ['o1', 'o2', 'o3', 'o4'],
            hints: {
              partial: 'More phases = more ownership.',
              wrong: 'Least ‚Üí Most: Just code ‚Üí Review ‚Üí Deploy ‚Üí Full lifecycle'
            },
            explanation: 'Full ownership includes every phase from requirements to monitoring.',
            points: 20
          },
          {
            type: 'drag-drop',
            id: 'mindset-app-dd2',
            instruction: 'Match each question to its ownership phase:',
            items: [
              { id: 'q1', text: 'What does "done" look like?' },
              { id: 'q2', text: 'How should components interact?' },
              { id: 'q3', text: 'Are all tests passing?' },
              { id: 'q4', text: 'Are users experiencing errors?' }
            ],
            zones: [
              { id: 'clarify', label: 'üìã Clarify', correct: ['q1'] },
              { id: 'design', label: 'üìê Design', correct: ['q2'] },
              { id: 'implement', label: 'üíª Implement', correct: ['q3'] },
              { id: 'monitor', label: 'üöÄ Monitor', correct: ['q4'] }
            ],
            explanation: 'Different questions are appropriate at different phases.',
            points: 15
          }
        ]
      });
      mindsetApplication.init();

      const mindsetSynthesis = new ActivityCarousel('mindset-synthesis', {
        type: 'synthesis',
        sectionId: 'ownership-mindset',
        title: 'Think Deeper',
        activities: [
          {
            type: 'scenario',
            id: 'mindset-syn-sc1',
            scenario: 'You\'ve been assigned to add a "favorite items" feature. The ticket just says "Users should be able to favorite items."',
            question: 'What questions would you ask to clarify requirements before starting?',
            evaluation: {
              keywords: ['what items', 'where display', 'persist', 'limit', 'sync', 'remove', 'done', 'success'],
              minWords: 40,
              pointsPerKeyword: 4,
              depthBonus: 10
            },
            modelAnswer: 'I\'d ask: What items can be favorited? Where are favorites displayed? Should favorites persist across sessions? Is there a limit? Should favorites sync across devices? Can users remove favorites? What does success look like? These questions define scope.',
            points: 25
          },
          {
            type: 'prediction',
            id: 'mindset-syn-pred1',
            setup: {
              type: 'text',
              content: 'Two developers get the same feature:\n\nDev A: Reads ticket, starts coding immediately, finishes in 3 days, discovers during review that stakeholders wanted different behavior.\n\nDev B: Spends 2 hours clarifying, documents design, codes in 2 days, smooth review.'
            },
            question: 'Who will likely ship the feature faster (total time including rework)?',
            correctAnswer: 'B',
            acceptableVariants: ['b', 'dev b', 'developer b'],
            explanation: 'Dev A will need rework after review. Dev B\'s clarification prevents building the wrong thing.',
            commonMistakes: {
              'A': 'Dev A seems faster initially but rework after review adds days.'
            },
            points: 15
          },
          {
            type: 'scenario',
            id: 'mindset-syn-sc2',
            scenario: 'Your feature is deployed. Users report it\'s working but slower than expected. You could: A) Say "it works, ticket done" or B) Investigate and optimize.',
            question: 'What would a senior with ownership mindset do, and why?',
            evaluation: {
              keywords: ['investigate', 'monitor', 'optimize', 'ownership', 'production', 'user experience', 'metrics', 'improve'],
              minWords: 40,
              pointsPerKeyword: 4,
              depthBonus: 10
            },
            modelAnswer: 'A senior would investigate‚Äîownership doesn\'t end at deployment. Check metrics, identify bottlenecks, and optimize. User experience matters. Shipping is the beginning of monitoring, not the end of ownership.',
            points: 25
          },
          {
            type: 'reflection',
            id: 'mindset-syn-ref1',
            prompt: 'Think about a feature you worked on recently. Did you own the full lifecycle or just the implementation? What would you do differently?',
            thinkingPrompts: [
              'Did you clarify requirements before coding?',
              'Did you create design documentation?',
              'Did you monitor after deployment?',
              'What phase could use more attention?'
            ],
            evaluation: {
              minWords: 50,
              depthIndicators: [
                { pattern: '(didn\'t|should have|would)', label: 'Self-awareness', points: 5 },
                { pattern: '(clarify|requirements)', label: 'Requirements thinking', points: 5 },
                { pattern: '(design|document)', label: 'Design awareness', points: 5 },
                { pattern: '(monitor|production)', label: 'Post-ship ownership', points: 5 }
              ],
              maxScore: 20
            },
            points: 20
          },
          {
            type: 'graph-builder',
            id: 'mindset-syn-graph1',
            instruction: 'Build the ownership lifecycle: Clarify ‚Üí Design ‚Üí Implement ‚Üí Ship ‚Üí Monitor',
            nodeTypes: [
              { type: 'clarify', label: 'üìã Clarify', color: '#42a5f5' },
              { type: 'design', label: 'üìê Design', color: '#66bb6a' },
              { type: 'implement', label: 'üíª Implement', color: '#ffa726' },
              { type: 'ship', label: 'üöÄ Ship', color: '#7986cb' },
              { type: 'monitor', label: 'üëÄ Monitor', color: '#ef5350' }
            ],
            validation: {
              requiredNodes: ['clarify', 'design', 'implement', 'ship', 'monitor'],
              requiredEdges: [
                { from: 'clarify', to: 'design' },
                { from: 'design', to: 'implement' },
                { from: 'implement', to: 'ship' },
                { from: 'ship', to: 'monitor' }
              ],
              optionalNodes: [],
              minNodes: 5,
              maxNodes: 6
            },
            hints: [
              'This is a linear flow from understanding to observing',
              'Each phase leads to the next',
              'Monitoring comes after shipping'
            ],
            points: 30
          },
          {
            type: 'scenario',
            id: 'mindset-syn-sc3',
            scenario: 'A junior says: "I just code what\'s in the ticket. Understanding requirements is the PM\'s job."',
            question: 'How would you help them understand the ownership mindset?',
            evaluation: {
              keywords: ['proactive', 'clarify', 'quality', 'growth', 'senior', 'responsibility', 'outcome', 'value'],
              minWords: 40,
              pointsPerKeyword: 4,
              depthBonus: 10
            },
            modelAnswer: 'I\'d explain that ownership separates senior from junior. When you clarify requirements, you catch issues early and deliver better outcomes. PMs appreciate developers who think proactively. Taking ownership is how you grow and add more value.',
            points: 25
          }
        ]
      });
      mindsetSynthesis.init();

      // ============================================
      // ACTIVITY CAROUSELS - OWNERSHIP LIFECYCLE SECTION
      // ============================================

      const lifecycleComprehension = new ActivityCarousel('lifecycle-comprehension', {
        type: 'comprehension',
        sectionId: 'ownership-lifecycle',
        title: 'Check Your Understanding',
        activities: [
          {
            type: 'quiz',
            id: 'lifecycle-comp-q1',
            question: 'What happens during the Requirements Phase?',
            options: [
              'Write code and tests',
              'Meet stakeholders and define scope',
              'Deploy to production',
              'Review other people\'s code'
            ],
            correct: 1,
            explanation: 'Requirements phase involves meeting stakeholders, understanding needs, and defining what success looks like.',
            points: 10
          },
          {
            type: 'quiz',
            id: 'lifecycle-comp-q2',
            question: 'Why is Review & Polish important before deployment?',
            options: [
              'It\'s not important, just deploy fast',
              'To address feedback and ensure quality before users see it',
              'To delay the project',
              'To make the manager happy'
            ],
            correct: 1,
            explanation: 'Review catches issues when they\'re cheaper to fix than in production.',
            points: 10
          },
          {
            type: 'true-false',
            id: 'lifecycle-comp-tf1',
            statement: 'The retrospective is optional since the feature is already shipped.',
            correct: false,
            explanation: 'Retrospectives are essential for learning. They help you improve your process for next time.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'true-false',
            id: 'lifecycle-comp-tf2',
            statement: 'Design Phase should produce architecture documentation.',
            correct: true,
            explanation: 'Design documentation captures decisions, enables review, and helps onboard others.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'fill-blank',
            id: 'lifecycle-comp-fill1',
            statement: 'Implementation Phase includes coding with ___ to ensure quality.',
            correctAnswers: ['tests', 'testing', 'test coverage'],
            caseSensitive: false,
            hints: ['What verifies code works correctly?'],
            explanation: 'Tests are essential for maintaining code quality and enabling confident changes.',
            points: 10
          },
          {
            type: 'fill-blank',
            id: 'lifecycle-comp-fill2',
            statement: 'After deployment, you hold a ___ to learn from the experience.',
            correctAnswers: ['retrospective', 'retro', 'post-mortem'],
            caseSensitive: false,
            hints: ['Looking back to improve'],
            explanation: 'Retrospectives capture lessons learned and improve future feature development.',
            points: 10
          }
        ]
      });
      lifecycleComprehension.init();

      const lifecycleApplication = new ActivityCarousel('lifecycle-application', {
        type: 'application',
        sectionId: 'ownership-lifecycle',
        title: 'Apply What You Learned',
        activities: [
          {
            type: 'sequence',
            id: 'lifecycle-app-seq1',
            instruction: 'Order the complete ownership lifecycle from start to finish:',
            items: [
              { id: 'l1', text: 'Requirements Phase - Meet stakeholders' },
              { id: 'l2', text: 'Design Phase - Architecture docs' },
              { id: 'l3', text: 'Implementation Phase - Code with tests' },
              { id: 'l4', text: 'Review & Polish - Address feedback' },
              { id: 'l5', text: 'Deploy & Retrospective - Ship and learn' }
            ],
            correctOrder: ['l1', 'l2', 'l3', 'l4', 'l5'],
            hints: {
              partial: 'Start with understanding what to build.',
              wrong: 'Requirements ‚Üí Design ‚Üí Implementation ‚Üí Review ‚Üí Deploy/Retro'
            },
            explanation: 'The complete journey from idea to production includes all these phases.',
            points: 20
          },
          {
            type: 'drag-drop',
            id: 'lifecycle-app-dd1',
            instruction: 'Match each deliverable to its lifecycle phase:',
            items: [
              { id: 'd1', text: 'User story acceptance criteria' },
              { id: 'd2', text: 'System architecture diagram' },
              { id: 'd3', text: 'Pull request with tests' },
              { id: 'd4', text: 'Addressed code review comments' },
              { id: 'd5', text: 'Lessons learned document' }
            ],
            zones: [
              { id: 'requirements', label: 'üìã Requirements', correct: ['d1'] },
              { id: 'design', label: 'üìê Design', correct: ['d2'] },
              { id: 'implementation', label: 'üíª Implementation', correct: ['d3'] },
              { id: 'review', label: 'üîç Review', correct: ['d4'] },
              { id: 'retrospective', label: 'üèÜ Retrospective', correct: ['d5'] }
            ],
            explanation: 'Each phase produces specific artifacts.',
            points: 20
          },
          {
            type: 'connect-edges',
            id: 'lifecycle-app-connect1',
            instruction: 'Connect each phase to its primary question:',
            nodes: [
              { id: 'requirements', label: 'üìã Requirements' },
              { id: 'design', label: 'üìê Design' },
              { id: 'implementation', label: 'üíª Implementation' },
              { id: 'review', label: 'üîç Review' },
              { id: 'q-what', label: 'What are we building?' },
              { id: 'q-how', label: 'How will we build it?' },
              { id: 'q-works', label: 'Does it work correctly?' },
              { id: 'q-ready', label: 'Is it ready to ship?' }
            ],
            solution: {
              edges: [
                { source: 'requirements', target: 'q-what' },
                { source: 'design', target: 'q-how' },
                { source: 'implementation', target: 'q-works' },
                { source: 'review', target: 'q-ready' }
              ]
            },
            explanation: 'Each phase answers a different fundamental question.',
            points: 25
          },
          {
            type: 'quiz',
            id: 'lifecycle-app-quiz1',
            question: 'You finished coding but haven\'t had code review yet. What phase are you in?',
            options: [
              'Design Phase',
              'Implementation Phase',
              'Review & Polish Phase',
              'Retrospective'
            ],
            correct: 2,
            explanation: 'After implementation, you enter Review & Polish to get feedback before deploying.',
            points: 15
          },
          {
            type: 'sequence',
            id: 'lifecycle-app-seq2',
            instruction: 'Order these activities by when they happen in a feature lifecycle:',
            items: [
              { id: 'a1', text: 'Write acceptance criteria' },
              { id: 'a2', text: 'Create system diagram' },
              { id: 'a3', text: 'Write unit tests' },
              { id: 'a4', text: 'Hold retrospective meeting' }
            ],
            correctOrder: ['a1', 'a2', 'a3', 'a4'],
            hints: {
              partial: 'Criteria come before diagrams.',
              wrong: 'Acceptance criteria ‚Üí Diagram ‚Üí Tests ‚Üí Retrospective'
            },
            explanation: 'Activities map to their phases in sequence.',
            points: 15
          },
          {
            type: 'drag-drop',
            id: 'lifecycle-app-dd2',
            instruction: 'Categorize each as early phase or late phase activity:',
            items: [
              { id: 'e1', text: 'Meet with product manager' },
              { id: 'e2', text: 'Draw component diagram' },
              { id: 'l1', text: 'Deploy to staging' },
              { id: 'l2', text: 'Document lessons learned' }
            ],
            zones: [
              { id: 'early', label: 'üåÖ Early Phase', correct: ['e1', 'e2'] },
              { id: 'late', label: 'üåÜ Late Phase', correct: ['l1', 'l2'] }
            ],
            explanation: 'Early = understanding/design. Late = deploy/reflect.',
            points: 20
          }
        ]
      });
      lifecycleApplication.init();

      const lifecycleSynthesis = new ActivityCarousel('lifecycle-synthesis', {
        type: 'synthesis',
        sectionId: 'ownership-lifecycle',
        title: 'Think Deeper',
        activities: [
          {
            type: 'scenario',
            id: 'lifecycle-syn-sc1',
            scenario: 'Your team wants to skip the design phase to "move faster." The feature involves multiple services and a new database table.',
            question: 'How would you advocate for keeping the design phase?',
            evaluation: {
              keywords: ['complexity', 'multiple', 'coordination', 'rework', 'expensive', 'mistakes', 'documentation', 'review'],
              minWords: 45,
              pointsPerKeyword: 4,
              depthBonus: 12
            },
            modelAnswer: 'I\'d explain that complexity makes design MORE important, not less. Multiple services need coordination‚Äîwithout design, we\'ll make expensive mistakes. A few hours of design prevents days of rework. Documentation enables parallel work and code review. Speed without design is an illusion.',
            points: 25
          },
          {
            type: 'prediction',
            id: 'lifecycle-syn-pred1',
            setup: {
              type: 'text',
              content: 'Team A: Skips retrospectives because "we already shipped, moving on."\n\nTeam B: Holds 30-minute retros after every feature.'
            },
            question: 'Which team will likely improve faster over the next 6 months?',
            correctAnswer: 'B',
            acceptableVariants: ['b', 'team b'],
            explanation: 'Team B learns from each feature. Team A repeats mistakes. Continuous improvement requires reflection.',
            commonMistakes: {
              'A': 'Moving fast without learning means repeating the same mistakes.'
            },
            points: 15
          },
          {
            type: 'scenario',
            id: 'lifecycle-syn-sc2',
            scenario: 'During code review, a senior points out that your approach doesn\'t handle a key edge case. You\'ve already written 500 lines.',
            question: 'What does this tell you about the earlier phases, and what would you do differently next time?',
            evaluation: {
              keywords: ['design', 'edge case', 'earlier', 'review', 'cheaper', 'catch', 'diagram', 'requirements'],
              minWords: 40,
              pointsPerKeyword: 4,
              depthBonus: 10
            },
            modelAnswer: 'This tells me design phase needed more edge case analysis and earlier review. Next time: document edge cases in design, get senior review before coding, use diagrams to spot gaps. Catching this earlier would have been much cheaper.',
            points: 25
          },
          {
            type: 'reflection',
            id: 'lifecycle-syn-ref1',
            prompt: 'Think about a feature where something went wrong after deployment. Could better process at an earlier phase have prevented it?',
            thinkingPrompts: [
              'What went wrong?',
              'Was requirements clear?',
              'Was design reviewed?',
              'What phase could have caught it?'
            ],
            evaluation: {
              minWords: 50,
              depthIndicators: [
                { pattern: '(requirement|unclear|scope)', label: 'Requirements analysis', points: 5 },
                { pattern: '(design|architecture)', label: 'Design thinking', points: 5 },
                { pattern: '(review|feedback)', label: 'Process improvement', points: 5 },
                { pattern: '(earlier|before|prevent)', label: 'Shift-left mindset', points: 5 }
              ],
              maxScore: 20
            },
            points: 20
          },
          {
            type: 'graph-builder',
            id: 'lifecycle-syn-graph1',
            instruction: 'Build the feedback loops: Retrospective learnings feed back into better Requirements for the next feature.',
            nodeTypes: [
              { type: 'requirements', label: 'üìã Requirements', color: '#42a5f5' },
              { type: 'design', label: 'üìê Design', color: '#66bb6a' },
              { type: 'implementation', label: 'üíª Implementation', color: '#ffa726' },
              { type: 'review', label: 'üîç Review', color: '#7986cb' },
              { type: 'deploy', label: 'üöÄ Deploy', color: '#ef5350' },
              { type: 'retrospective', label: 'üîÑ Retrospective', color: '#ab47bc' }
            ],
            validation: {
              requiredNodes: ['requirements', 'design', 'implementation', 'deploy', 'retrospective'],
              requiredEdges: [
                { from: 'requirements', to: 'design' },
                { from: 'design', to: 'implementation' },
                { from: 'implementation', to: 'deploy' },
                { from: 'deploy', to: 'retrospective' },
                { from: 'retrospective', to: 'requirements' }
              ],
              optionalNodes: ['review'],
              minNodes: 5,
              maxNodes: 7
            },
            hints: [
              'The lifecycle is actually a loop, not a line',
              'Retrospective learnings improve future requirements',
              'Each feature informs the next'
            ],
            points: 30
          },
          {
            type: 'scenario',
            id: 'lifecycle-syn-sc3',
            scenario: 'A teammate says: "I\'m too busy coding to attend the retrospective meeting. My work is done."',
            question: 'How would you explain the value of retrospectives to them?',
            evaluation: {
              keywords: ['learn', 'improve', 'mistakes', 'process', 'team', 'ownership', 'patterns', 'better'],
              minWords: 40,
              pointsPerKeyword: 4,
              depthBonus: 10
            },
            modelAnswer: 'I\'d explain that retrospectives are how we improve. Without reflection, we repeat mistakes. Your insights help the whole team. It\'s part of ownership‚Äîcaring about making next time better, not just this time done. 30 minutes of reflection saves hours of repeated problems.',
            points: 25
          }
        ]
      });
      lifecycleSynthesis.init();

      // ============================================
      // ACTIVITY CAROUSELS - REAL FEATURE SECTION
      // ============================================

      const realFeatureComprehension = new ActivityCarousel('real-feature-comprehension', {
        type: 'comprehension',
        sectionId: 'real-feature',
        title: 'Check Your Understanding',
        activities: [
          {
            type: 'quiz',
            id: 'real-comp-q1',
            question: 'What makes a capstone feature "real" vs a toy project?',
            options: [
              'Using trendy frameworks',
              'Having lots of code',
              'Actual impact with stakeholders who care',
              'Being difficult to build'
            ],
            correct: 2,
            explanation: 'Real features have users or stakeholders who care about the outcome.',
            points: 10
          },
          {
            type: 'quiz',
            id: 'real-comp-q2',
            question: 'Why should a capstone feature involve multiple components?',
            options: [
              'To make it harder',
              'Because seniors need to coordinate frontend, backend, and more',
              'To impress recruiters',
              'Single components are too easy'
            ],
            correct: 1,
            explanation: 'Real senior work involves coordinating multiple parts of a system, not just one piece.',
            points: 10
          },
          {
            type: 'true-false',
            id: 'real-comp-tf1',
            statement: 'A capstone feature must be deployable to production, not just local.',
            correct: true,
            explanation: 'Real features ship. Production deployment teaches you the full delivery pipeline.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'true-false',
            id: 'real-comp-tf2',
            statement: 'Having stakeholders means at least one person cares about your feature succeeding.',
            correct: true,
            explanation: 'Stakeholders give feedback, set requirements, and validate your work‚Äîthis is real-world dynamics.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'fill-blank',
            id: 'real-comp-fill1',
            statement: 'A real feature is "not a ___ project" because it has actual impact.',
            correctAnswers: ['toy', 'fake', 'practice'],
            caseSensitive: false,
            hints: ['Something you play with but doesn\'t matter'],
            explanation: 'Toy projects have no stakes. Real features matter to real people.',
            points: 10
          },
          {
            type: 'fill-blank',
            id: 'real-comp-fill2',
            statement: 'The feature must involve multiple ___ like frontend and backend.',
            correctAnswers: ['components', 'parts', 'systems', 'layers'],
            caseSensitive: false,
            hints: ['Different pieces of a system'],
            explanation: 'Senior-level work requires coordinating multiple parts of a system.',
            points: 10
          }
        ]
      });
      realFeatureComprehension.init();

      const realFeatureApplication = new ActivityCarousel('real-feature-application', {
        type: 'application',
        sectionId: 'real-feature',
        title: 'Apply What You Learned',
        activities: [
          {
            type: 'drag-drop',
            id: 'real-app-dd1',
            instruction: 'Categorize each project as Real Feature or Toy Project:',
            items: [
              { id: 'r1', text: 'Add user notifications‚Äîteam is waiting for it' },
              { id: 't1', text: 'Build a todo app for your portfolio' },
              { id: 'r2', text: 'Implement search feature stakeholders requested' },
              { id: 't2', text: 'Clone a popular website for practice' },
              { id: 'r3', text: 'Create admin dashboard the ops team needs' },
              { id: 't3', text: 'Tutorial project to learn a framework' }
            ],
            zones: [
              { id: 'real', label: '‚úÖ Real Feature', correct: ['r1', 'r2', 'r3'] },
              { id: 'toy', label: 'üß∏ Toy Project', correct: ['t1', 't2', 't3'] }
            ],
            explanation: 'Real features have stakeholders, impact, and ship to production.',
            points: 20
          },
          {
            type: 'connect-edges',
            id: 'real-app-connect1',
            instruction: 'Connect each criterion to why it matters:',
            nodes: [
              { id: 'stakeholders', label: 'üë• Stakeholders' },
              { id: 'components', label: 'üì¶ Multiple Components' },
              { id: 'deployable', label: 'üöÄ Deployable' },
              { id: 'feedback', label: 'Get real feedback' },
              { id: 'coordinate', label: 'Practice coordination' },
              { id: 'pipeline', label: 'Learn full delivery' }
            ],
            solution: {
              edges: [
                { source: 'stakeholders', target: 'feedback' },
                { source: 'components', target: 'coordinate' },
                { source: 'deployable', target: 'pipeline' }
              ]
            },
            explanation: 'Each criterion teaches a crucial senior skill.',
            points: 25
          },
          {
            type: 'sequence',
            id: 'real-app-seq1',
            instruction: 'Order these features from least "real" to most "real":',
            items: [
              { id: 'f1', text: 'Personal hobby project, no users' },
              { id: 'f2', text: 'Open source contribution, some users' },
              { id: 'f3', text: 'Work feature, team depends on it' },
              { id: 'f4', text: 'Production feature, external customers use it' }
            ],
            correctOrder: ['f1', 'f2', 'f3', 'f4'],
            hints: {
              partial: 'More stakeholders = more real.',
              wrong: 'Personal ‚Üí Open source ‚Üí Team ‚Üí Customers'
            },
            explanation: 'Real-ness correlates with stakeholder impact.',
            points: 20
          },
          {
            type: 'quiz',
            id: 'real-app-quiz1',
            question: 'You want to build a capstone but have no company project. What\'s a good option?',
            options: [
              'Build another todo app',
              'Contribute a real feature to an open source project with active users',
              'Just code something interesting',
              'Skip the capstone entirely'
            ],
            correct: 1,
            explanation: 'Open source contributions have real users and stakeholders‚Äîperfect for capstone features.',
            points: 15
          },
          {
            type: 'drag-drop',
            id: 'real-app-dd2',
            instruction: 'Match each component type to its role:',
            items: [
              { id: 'c1', text: 'User interface layer' },
              { id: 'c2', text: 'Business logic layer' },
              { id: 'c3', text: 'Data storage layer' }
            ],
            zones: [
              { id: 'frontend', label: 'üñ•Ô∏è Frontend', correct: ['c1'] },
              { id: 'backend', label: '‚öôÔ∏è Backend', correct: ['c2'] },
              { id: 'database', label: 'üíæ Database', correct: ['c3'] }
            ],
            explanation: 'Real features typically touch multiple layers.',
            points: 15
          },
          {
            type: 'sequence',
            id: 'real-app-seq2',
            instruction: 'Order these deployment targets from development to production:',
            items: [
              { id: 'd1', text: 'Local development' },
              { id: 'd2', text: 'Staging environment' },
              { id: 'd3', text: 'Production' }
            ],
            correctOrder: ['d1', 'd2', 'd3'],
            hints: {
              partial: 'Start local, end at production.',
              wrong: 'Local ‚Üí Staging ‚Üí Production'
            },
            explanation: 'Real features go through this deployment pipeline.',
            points: 15
          }
        ]
      });
      realFeatureApplication.init();

      const realFeatureSynthesis = new ActivityCarousel('real-feature-synthesis', {
        type: 'synthesis',
        sectionId: 'real-feature',
        title: 'Think Deeper',
        activities: [
          {
            type: 'scenario',
            id: 'real-syn-sc1',
            scenario: 'You\'re choosing your capstone feature. Option A: Build a cool side project you\'re interested in. Option B: Tackle a feature from your team\'s backlog that no one wants to do.',
            question: 'Which would be a better capstone and why?',
            evaluation: {
              keywords: ['stakeholders', 'real', 'impact', 'feedback', 'production', 'team', 'ownership', 'value'],
              minWords: 45,
              pointsPerKeyword: 4,
              depthBonus: 12
            },
            modelAnswer: 'Option B is better for capstone‚Äîit has real stakeholders (team), real impact (backlog item), and will ship to production. You\'ll get feedback, practice ownership, and add actual value. Side projects are fine for learning, but capstones should prove senior-level work.',
            points: 25
          },
          {
            type: 'prediction',
            id: 'real-syn-pred1',
            setup: {
              type: 'text',
              content: 'Dev A builds a portfolio project: social media clone with no actual users.\n\nDev B builds a feature: admin dashboard for a real team who uses it daily.'
            },
            question: 'Whose portfolio will better demonstrate senior-level capability to employers?',
            correctAnswer: 'B',
            acceptableVariants: ['b', 'dev b', 'developer b'],
            explanation: 'Dev B can speak to stakeholder feedback, real requirements, production deployment‚Äîthings employers value.',
            commonMistakes: {
              'A': 'Clones are common and don\'t show ownership of real problems.'
            },
            points: 15
          },
          {
            type: 'scenario',
            id: 'real-syn-sc2',
            scenario: 'A friend says: "I built 10 portfolio projects but can\'t get interviews. I don\'t understand."',
            question: 'What advice would you give them based on what makes features "real"?',
            evaluation: {
              keywords: ['stakeholders', 'impact', 'real', 'users', 'production', 'ownership', 'one real', 'fewer better'],
              minWords: 40,
              pointsPerKeyword: 4,
              depthBonus: 10
            },
            modelAnswer: 'I\'d say: 10 toy projects < 1 real feature. Find an open source project, non-profit, or company backlog item. Build something with actual users and stakeholders. One feature you can deeply speak to‚Äîrequirements, design, deployment, feedback‚Äîbeats 10 generic clones.',
            points: 25
          },
          {
            type: 'reflection',
            id: 'real-syn-ref1',
            prompt: 'What feature could you build that would have real stakeholders? Think about your team, open source projects you use, or organizations you\'re involved with.',
            thinkingPrompts: [
              'Who would use this feature?',
              'Who would you get requirements from?',
              'Where would it be deployed?',
              'What makes it "real" not "toy"?'
            ],
            evaluation: {
              minWords: 50,
              depthIndicators: [
                { pattern: '(team|manager|stakeholder)', label: 'Stakeholder awareness', points: 5 },
                { pattern: '(deploy|production|ship)', label: 'Delivery thinking', points: 5 },
                { pattern: '(user|customer|person)', label: 'User focus', points: 5 },
                { pattern: '(requirements|needs|problem)', label: 'Problem focus', points: 5 }
              ],
              maxScore: 20
            },
            points: 20
          },
          {
            type: 'graph-builder',
            id: 'real-syn-graph1',
            instruction: 'Build the "Real Feature" criteria: Must Be Real ‚Üí Multiple Components ‚Üí Has Stakeholders ‚Üí Deployable',
            nodeTypes: [
              { type: 'real', label: '‚úÖ Must Be Real', color: '#42a5f5' },
              { type: 'components', label: 'üì¶ Multiple Components', color: '#66bb6a' },
              { type: 'stakeholders', label: 'üë• Has Stakeholders', color: '#ffa726' },
              { type: 'deployable', label: 'üöÄ Deployable', color: '#7986cb' }
            ],
            validation: {
              requiredNodes: ['real', 'components', 'stakeholders', 'deployable'],
              requiredEdges: [
                { from: 'real', to: 'components' },
                { from: 'components', to: 'stakeholders' },
                { from: 'stakeholders', to: 'deployable' }
              ],
              optionalNodes: [],
              minNodes: 4,
              maxNodes: 5
            },
            hints: [
              'All criteria must be met',
              'They build on each other',
              'Deployable is the final proof'
            ],
            points: 30
          },
          {
            type: 'scenario',
            id: 'real-syn-sc3',
            scenario: 'You identified a perfect capstone feature at work, but your manager says it\'s "too risky" to give to someone learning.',
            question: 'How would you make the case for taking ownership of this feature?',
            evaluation: {
              keywords: ['support', 'review', 'learning', 'risk', 'mitigation', 'checkpoints', 'design doc', 'grow'],
              minWords: 45,
              pointsPerKeyword: 4,
              depthBonus: 12
            },
            modelAnswer: 'I\'d propose risk mitigation: share design doc early for review, set up checkpoints, get senior pair review at key points. Explain that ownership with guardrails is how juniors grow. The alternative‚Äîstaying on safe tasks‚Äîlimits growth. Show you understand the risks and have a plan.',
            points: 25
          }
        ]
      });
      realFeatureSynthesis.init();

      console.log('üé† All activity carousels initialized for Junior Ch5: Capstone I');
    });
  </script>
</body>
</html>
