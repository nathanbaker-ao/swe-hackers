<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Capstone II: AI-Paired Development | Junior Accelerator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../shared/css/lesson-interactive.css">
  <link rel="stylesheet" href="../../shared/css/activity-carousel.css">
</head>
<body data-course="junior" data-lesson="ch6-capstone2">
  <header class="header">
    <div class="header-content">
      <a href="../../index.html" class="logo">
        <div class="logo-icon">üåü</div>
        <span>AI-Paired Development</span>
      </a>
      <nav class="nav-links">
        <a href="../index.html">‚Üê Junior</a>
        <a href="../ch5-capstone1/">Capstone I</a>
        <a href="index.html" class="active">Capstone II</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="page-header">
      <div class="breadcrumb">
        <a href="../index.html">Junior Accelerator</a>
        <span>/</span>
        <span>Capstone II: AI-Paired Development</span>
      </div>
      <h1>üåü AI-Paired Development</h1>
      <p>AI won't replace engineers. Engineers with AI will replace engineers without AI. This week, you become unstoppable by mastering the human-AI development loop.</p>
    </div>

    <!-- Audio Info -->
    <section class="section audio-info-section">
      <div class="info-box compact">
        <div class="info-header">
          <span class="info-icon">üéôÔ∏è</span>
          <div>
            <h4>Interactive Learning Experience</h4>
            <p>Watch diagrams come alive with AI narration ‚Ä¢ Click dots to jump ‚Ä¢ Test your understanding with quizzes</p>
          </div>
        </div>
        <div class="voice-options">
          <span class="voice-badge">üë©‚Äçüé§ Female Storyteller</span>
          <span class="voice-badge">üé© Male UK Storyteller</span>
        </div>
      </div>
    </section>

    <!-- Story 1: Skills + AI -->
    <section class="section" id="skills-ai-section">
      <h2>The 10x Multiplier</h2>
      <p>Your skills from the past 5 weeks aren't just skills‚Äîthey're superpowers when combined with AI. Learn why your context is the key that unlocks AI's full potential.</p>
      
      <div class="diagram-container" id="skills-ai-container">
        <div class="diagram-header">
          <span class="diagram-title">üß† Your Skills + ü§ñ AI = üöÄ 10x Output</span>
        </div>
        <div id="skills-ai-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="skills-ai-story-caption">
          <div class="story-step">
            <div class="story-icon visible">üöÄ</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">‚Üí</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">‚ñ∂ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="skills-ai-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>‚è±Ô∏è</label>
            <select id="skills-ai-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="skills-ai-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">üîä</span>
            </button>
          </div>
          <div class="control-group">
            <label>üé§</label>
            <select id="skills-ai-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Activity Carousels -->
      <div class="activity-carousels">
        <div class="carousel-container" id="skills-ai-comprehension"></div>
        <div class="carousel-container" id="skills-ai-application"></div>
        <div class="carousel-container" id="skills-ai-synthesis"></div>
      </div>
    </section>

    <!-- Story 2: Workflow -->
    <section class="section" id="workflow-section">
      <h2>The Human-AI Loop</h2>
      <p>Master the 6-phase workflow that makes AI-paired development actually work. You direct, AI executes, you verify‚Äîthat's the loop that ships features at 10x speed.</p>
      
      <div class="diagram-container" id="workflow-container">
        <div class="diagram-header">
          <span class="diagram-title">üîÑ Design ‚Üí Prompt ‚Üí Execute ‚Üí Verify ‚Üí Integrate ‚Üí Test</span>
        </div>
        <div id="workflow-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="workflow-story-caption">
          <div class="story-step">
            <div class="story-icon visible">üöÄ</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">‚Üí</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">‚ñ∂ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="workflow-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>‚è±Ô∏è</label>
            <select id="workflow-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="workflow-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">üîä</span>
            </button>
          </div>
          <div class="control-group">
            <label>üé§</label>
            <select id="workflow-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Activity Carousels -->
      <div class="activity-carousels">
        <div class="carousel-container" id="workflow-comprehension"></div>
        <div class="carousel-container" id="workflow-application"></div>
        <div class="carousel-container" id="workflow-synthesis"></div>
      </div>
    </section>

    <!-- Story 3: Journey Complete -->
    <section class="section" id="journey-complete-section">
      <h2>Your Transformation</h2>
      <p>Six weeks ago, you were a junior who wrote code. Now you're an engineer who owns features end-to-end and partners with AI to execute at 10x speed. See how far you've come.</p>
      
      <div class="diagram-container" id="journey-complete-container">
        <div class="diagram-header">
          <span class="diagram-title">üéì Week 0 ‚Üí Week 6: The Engineer You've Become</span>
        </div>
        <div id="journey-complete-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="journey-complete-story-caption">
          <div class="story-step">
            <div class="story-icon visible">üöÄ</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">‚Üí</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">‚ñ∂ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="journey-complete-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>‚è±Ô∏è</label>
            <select id="journey-complete-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="journey-complete-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">üîä</span>
            </button>
          </div>
          <div class="control-group">
            <label>üé§</label>
            <select id="journey-complete-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Activity Carousels -->
      <div class="activity-carousels">
        <div class="carousel-container" id="journey-comprehension"></div>
        <div class="carousel-container" id="journey-application"></div>
        <div class="carousel-container" id="journey-synthesis"></div>
      </div>
    </section>

    <!-- Graduation Banner -->
    <section class="section">
      <div class="info-box" style="background: linear-gradient(135deg, rgba(171, 71, 188, 0.3), rgba(123, 31, 162, 0.2)); border-color: #ab47bc; text-align: center; padding: 2rem;">
        <h2 style="color: #ab47bc; margin-bottom: 1rem;">üéì Course Complete!</h2>
        <p style="max-width: 600px; margin: 0 auto;">
          You've developed senior-level skills in 6 weeks. The title will catch up to the skills.
          Every ticket is now a chance to prove what you've learned. Keep going‚Äîyou've earned this!
        </p>
      </div>
    </section>

    <!-- Next Steps -->
    <section class="section">
      <h2>What's Next?</h2>
      <p>You've completed the Junior Accelerator! Continue practicing these skills on every ticket. Remember: ask clarifying questions, draw diagrams, map data flows, and use AI with context and verification.</p>
      <div class="cards-grid" style="grid-template-columns: repeat(2, 1fr);">
        <a href="../ch5-capstone1/" class="card">
          <div class="card-icon">üî•</div>
          <h3>‚Üê Capstone I: Feature Ownership</h3>
          <p>Review the first capstone on owning features end-to-end.</p>
        </a>
        <a href="../index.html" class="card">
          <div class="card-icon">üìö</div>
          <h3>Course Overview</h3>
          <p>See all chapters in the Junior Accelerator.</p>
        </a>
      </div>
    </section>
  </main>

  <nav class="page-nav">
    <h4>On This Page</h4>
    <ul>
      <li><a href="#skills-ai-section">The 10x Multiplier</a></li>
      <li><a href="#workflow-section">Human-AI Loop</a></li>
      <li><a href="#journey-complete-section">Your Transformation</a></li>
    </ul>
  </nav>

  <button class="back-to-top" title="Back to top">‚Üë</button>

  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.min.js"></script>
  <!-- Firebase & Activity Tracking -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="../../shared/js/firebase-config.js"></script>
  <script src="../../shared/js/auth.js"></script>
  <script src="../../shared/js/data-service.js"></script>
  <script src="../../shared/js/activity-tracker.js"></script>

  <!-- Activity Type Scripts -->
  <script src="../../shared/js/activities/base-activity.js"></script>
  <script src="../../shared/js/activities/quiz-activity.js"></script>
  <script src="../../shared/js/activities/true-false-activity.js"></script>
  <script src="../../shared/js/activities/fill-blank-activity.js"></script>
  <script src="../../shared/js/activities/sequence-activity.js"></script>
  <script src="../../shared/js/activities/drag-drop-activity.js"></script>
  <script src="../../shared/js/activities/connect-edges-activity.js"></script>
  <script src="../../shared/js/activities/scenario-activity.js"></script>
  <script src="../../shared/js/activities/prediction-activity.js"></script>
  <script src="../../shared/js/activities/reflection-activity.js"></script>
  <script src="../../shared/js/activities/graph-builder-activity.js"></script>
  <script src="../../shared/js/activity-carousel.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dagre/0.8.5/dagre.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-dagre@2.5.0/cytoscape-dagre.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-cose-bilkent@4.1.0/cytoscape-cose-bilkent.min.js"></script>
  
  <!-- Interactive Engines -->
  <script src="../../shared/js/interactive/diagram-utils.js"></script>
  <script src="../../shared/js/interactive/audio-engine.js"></script>
  <script src="../../shared/js/interactive/storytelling-diagram.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      // Initialize Firebase FIRST
      if (window.FirebaseApp) {
        window.FirebaseApp.init();
        console.log('‚úÖ Firebase initialized');
      }
      
      // Initialize AuthService and wait for auth state
      if (window.AuthService) {
        window.AuthService.init();
        await window.AuthService.waitForAuthState();
        console.log('üë§ Auth ready:', window.AuthService.getUser()?.email || 'not signed in');
      }
      
      // Initialize ActivityTracker AFTER auth is ready
      const courseId = document.body.dataset.course;
      const lessonId = document.body.dataset.lesson;
      if (courseId && lessonId && window.ActivityTracker) {
        ActivityTracker.init(courseId, lessonId);
        console.log('üéØ ActivityTracker initialized:', courseId, lessonId);
      }

      // Initialize page animations
      DiagramUtils.initPageAnimations();
      DiagramUtils.setupBackToTop();

      // Load story and quiz data from JSON
      const response = await fetch('story.json');
      const pageData = await response.json();

      // Create a shared audio engine pointing to the audio folder
      const audioEngine = new AudioNarrationEngine('audio');

      // ============================================
      // DIAGRAM ELEMENTS (Cytoscape data)
      // ============================================

      const diagramElements = {
        'skills-ai': [
          // Your skills
          { data: { id: 'your-skills', label: 'üß† Your Skills\nNavigation ‚Ä¢ Flow ‚Ä¢ Design', type: 'concept', description: 'What you learned in 5 weeks' } },
          // AI capabilities
          { data: { id: 'ai-capabilities', label: 'ü§ñ AI Power\nCode Gen ‚Ä¢ Refactor', type: 'service', description: 'Raw AI capabilities' } },
          // Context bridge
          { data: { id: 'context-bridge', label: 'üîó Your Context\nPatterns ‚Ä¢ Constraints', type: 'auth', description: 'What transforms AI from guessing to executing' } },
          // Execution
          { data: { id: 'execution', label: '‚ö° Execution\nMachine Speed', type: 'data', description: 'AI executes your vision' } },
          // Senior output
          { data: { id: 'senior-output', label: 'üöÄ Senior Output\n10x Productivity', type: 'page', description: 'The result of your partnership' } },
          // Edges
          { data: { source: 'your-skills', target: 'ai-capabilities' } },
          { data: { source: 'your-skills', target: 'context-bridge' } },
          { data: { source: 'ai-capabilities', target: 'execution' } },
          { data: { source: 'context-bridge', target: 'execution' } },
          { data: { source: 'execution', target: 'senior-output' } }
        ],

        'workflow': [
          // Phase 1: Design
          { data: { id: 'design-phase', label: 'üìã Design\n[HUMAN]', type: 'external', description: 'Requirements, diagrams, edge cases' } },
          // Phase 2: Prompt
          { data: { id: 'prompt-phase', label: 'üí¨ Prompt\n[HUMAN]', type: 'concept', description: 'Clear prompts with context' } },
          // Phase 3: Execute
          { data: { id: 'execute-phase', label: 'ü§ñ Execute\n[AI]', type: 'service', description: 'AI generates code' } },
          // Phase 4: Verify
          { data: { id: 'verify-phase', label: 'üîç Verify\n[HUMAN]', type: 'auth', description: 'Check design match & edge cases' } },
          // Phase 5: Integrate
          { data: { id: 'integrate-phase', label: 'üîß Integrate\n[HUMAN]', type: 'data', description: 'Adapt to codebase style' } },
          // Phase 6: Test
          { data: { id: 'test-phase', label: '‚úÖ Test\n[HUMAN]', type: 'concept', description: 'Verify every assertion' } },
          // Ship
          { data: { id: 'ship-phase', label: 'üö¢ Ship!\n[SUCCESS]', type: 'page', description: 'Feature delivered at 10x speed' } },
          // Edges
          { data: { source: 'design-phase', target: 'prompt-phase' } },
          { data: { source: 'prompt-phase', target: 'execute-phase' } },
          { data: { source: 'execute-phase', target: 'verify-phase' } },
          { data: { source: 'verify-phase', target: 'integrate-phase' } },
          { data: { source: 'integrate-phase', target: 'test-phase' } },
          { data: { source: 'test-phase', target: 'ship-phase' } }
        ],

        'journey-complete': [
          // Week zero
          { data: { id: 'week-zero', label: 'üìÖ Week 0\nJunior Coder', type: 'external', description: 'Where you started' } },
          // Skills learned
          { data: { id: 'learned-navigation', label: 'ü™® Navigation\nRead Any Codebase', type: 'concept', description: 'Codebase mastery' } },
          { data: { id: 'learned-dataflow', label: '‚ö° Data Flow\nTrace Systematically', type: 'auth', description: 'Debug methodically' } },
          { data: { id: 'learned-integration', label: 'üß≤ Integration\nResilience Patterns', type: 'data', description: 'Handle failure gracefully' } },
          { data: { id: 'learned-design', label: 'üèõÔ∏è Design\nThink Before Code', type: 'service', description: 'Architect solutions' } },
          // Week six
          { data: { id: 'week-six', label: 'üåü Week 6\nSenior Engineer', type: 'page', description: 'Who you\'ve become' } },
          // Edges
          { data: { source: 'week-zero', target: 'learned-navigation' } },
          { data: { source: 'week-zero', target: 'learned-dataflow' } },
          { data: { source: 'week-zero', target: 'learned-integration' } },
          { data: { source: 'week-zero', target: 'learned-design' } },
          { data: { source: 'learned-navigation', target: 'week-six' } },
          { data: { source: 'learned-dataflow', target: 'week-six' } },
          { data: { source: 'learned-integration', target: 'week-six' } },
          { data: { source: 'learned-design', target: 'week-six' } }
        ]
      };

      // ============================================
      // INITIALIZE STORYTELLING DIAGRAMS
      // ============================================

      // Map story IDs to diagram element keys
      const storyToDiagram = {
        'skills-ai-story': 'skills-ai',
        'workflow-story': 'workflow',
        'journey-complete-story': 'journey-complete'
      };

      // Create storytelling diagrams for each story in the JSON
      pageData.stories.forEach(story => {
        const diagramKey = storyToDiagram[story.id];
        if (!diagramKey) return;

        const elements = diagramElements[diagramKey];
        if (!elements) return;

        new StorytellingDiagram(
          story.id,
          elements,
          story.steps,
          { audioEngine, storyId: story.id }
        );
      });

      // ============================================
      // ACTIVITY CAROUSELS - SKILLS + AI SECTION
      // ============================================

      const skillsAiComprehension = new ActivityCarousel('skills-ai-comprehension', {
        type: 'comprehension',
        sectionId: 'skills-ai',
        title: 'Check Your Understanding',
        activities: [
          {
            type: 'quiz',
            id: 'skills-comp-q1',
            question: 'What makes you valuable as an AI partner (not replaceable by AI)?',
            options: [
              'Your typing speed',
              'Your context: codebase patterns, constraints, and requirements',
              'Your ability to copy-paste code',
              'Your memorization of syntax'
            ],
            correct: 1,
            explanation: 'AI can generate code, but only you understand your specific codebase, team constraints, and business requirements.',
            points: 10
          },
          {
            type: 'quiz',
            id: 'skills-comp-q2',
            question: 'What transforms AI from "guessing" to "executing your vision"?',
            options: [
              'Using the newest AI model',
              'Writing longer prompts',
              'Providing your context (patterns, constraints, design decisions)',
              'Asking AI to figure it out'
            ],
            correct: 2,
            explanation: 'Your context bridges your skills and AI\'s capabilities to produce targeted, correct output.',
            points: 10
          },
          {
            type: 'true-false',
            id: 'skills-comp-tf1',
            statement: 'AI replaces the need for understanding codebase navigation and data flow.',
            correct: false,
            explanation: 'AI amplifies these skills‚Äîwithout understanding, you can\'t provide good context or verify AI output.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'true-false',
            id: 'skills-comp-tf2',
            statement: 'The combination of human context + AI execution can produce 10x productivity.',
            correct: true,
            explanation: 'Your strategic thinking + AI\'s speed = senior-level output at unprecedented velocity.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'fill-blank',
            id: 'skills-comp-fill1',
            statement: 'AI executes at machine ___; you provide the direction.',
            correctAnswers: ['speed', 'velocity', 'pace'],
            caseSensitive: false,
            hints: ['How fast machines work'],
            explanation: 'AI execution is nearly instant‚Äîyour job is making sure it\'s going the right direction.',
            points: 10
          },
          {
            type: 'fill-blank',
            id: 'skills-comp-fill2',
            statement: 'Your skills from the course (Navigation, Data Flow, Integration, Design) become ___ that you provide to AI.',
            correctAnswers: ['context', 'guidance', 'direction'],
            caseSensitive: false,
            hints: ['The information AI needs to be useful'],
            explanation: 'Everything you learned becomes context that makes AI output actually useful.',
            points: 10
          }
        ]
      });
      skillsAiComprehension.init();

      const skillsAiApplication = new ActivityCarousel('skills-ai-application', {
        type: 'application',
        sectionId: 'skills-ai',
        title: 'Apply What You Learned',
        activities: [
          {
            type: 'drag-drop',
            id: 'skills-app-dd1',
            instruction: 'Categorize each as Human Role or AI Role:',
            items: [
              { id: 'h1', text: 'Understanding business requirements' },
              { id: 'h2', text: 'Knowing codebase patterns' },
              { id: 'a1', text: 'Generating boilerplate code' },
              { id: 'h3', text: 'Identifying edge cases' },
              { id: 'a2', text: 'Refactoring at scale' },
              { id: 'h4', text: 'Verifying output correctness' }
            ],
            zones: [
              { id: 'human', label: 'üß† Human Role', correct: ['h1', 'h2', 'h3', 'h4'] },
              { id: 'ai', label: 'ü§ñ AI Role', correct: ['a1', 'a2'] }
            ],
            explanation: 'Humans provide context and verification; AI provides speed and execution.',
            points: 20
          },
          {
            type: 'connect-edges',
            id: 'skills-app-connect1',
            instruction: 'Connect each Junior skill to what it enables with AI:',
            nodes: [
              { id: 'navigation', label: 'ü™® Navigation' },
              { id: 'dataflow', label: '‚ö° Data Flow' },
              { id: 'integration', label: 'üß≤ Integration' },
              { id: 'design', label: 'üèõÔ∏è Design' },
              { id: 'read', label: 'Read & understand AI output' },
              { id: 'trace', label: 'Trace AI-generated logic' },
              { id: 'resilient', label: 'Guide resilient patterns' },
              { id: 'architect', label: 'Direct AI with clear design' }
            ],
            solution: {
              edges: [
                { source: 'navigation', target: 'read' },
                { source: 'dataflow', target: 'trace' },
                { source: 'integration', target: 'resilient' },
                { source: 'design', target: 'architect' }
              ]
            },
            explanation: 'Every skill you learned amplifies your AI partnership.',
            points: 25
          },
          {
            type: 'sequence',
            id: 'skills-app-seq1',
            instruction: 'Order these from least to most AI-amplified output:',
            items: [
              { id: 's1', text: 'Ask AI to code something without context' },
              { id: 's2', text: 'Give AI basic requirements' },
              { id: 's3', text: 'Give AI requirements + codebase patterns' },
              { id: 's4', text: 'Give AI design doc + patterns + edge cases' }
            ],
            correctOrder: ['s1', 's2', 's3', 's4'],
            hints: {
              partial: 'More context = better output.',
              wrong: 'No context ‚Üí Basic ‚Üí Patterns ‚Üí Full design'
            },
            explanation: 'AI output quality directly correlates with context quality.',
            points: 20
          },
          {
            type: 'quiz',
            id: 'skills-app-quiz1',
            question: 'AI generates code that looks correct but doesn\'t handle a key edge case. What skill helps you catch this?',
            options: [
              'Faster typing',
              'Data flow tracing and edge case thinking',
              'Memorizing AI documentation',
              'Asking AI to check itself'
            ],
            correct: 1,
            explanation: 'Your data flow and design skills help you trace logic and identify missed edge cases.',
            points: 15
          },
          {
            type: 'drag-drop',
            id: 'skills-app-dd2',
            instruction: 'Match each context type to what it prevents:',
            items: [
              { id: 'c1', text: 'Codebase patterns' },
              { id: 'c2', text: 'Business constraints' },
              { id: 'c3', text: 'Edge cases' }
            ],
            zones: [
              { id: 'style', label: 'üé® Inconsistent Style', correct: ['c1'] },
              { id: 'wrong', label: '‚ùå Wrong Solution', correct: ['c2'] },
              { id: 'bugs', label: 'üêõ Hidden Bugs', correct: ['c3'] }
            ],
            explanation: 'Different context prevents different problems.',
            points: 15
          },
          {
            type: 'sequence',
            id: 'skills-app-seq2',
            instruction: 'Order the value chain from your skills to AI output:',
            items: [
              { id: 'v1', text: 'Your skills (from 5 weeks)' },
              { id: 'v2', text: 'Your context (patterns, constraints)' },
              { id: 'v3', text: 'AI execution (machine speed)' },
              { id: 'v4', text: 'Senior output (10x productivity)' }
            ],
            correctOrder: ['v1', 'v2', 'v3', 'v4'],
            hints: {
              partial: 'Skills enable context.',
              wrong: 'Skills ‚Üí Context ‚Üí Execution ‚Üí Output'
            },
            explanation: 'Your skills create context that directs AI execution to senior output.',
            points: 20
          }
        ]
      });
      skillsAiApplication.init();

      const skillsAiSynthesis = new ActivityCarousel('skills-ai-synthesis', {
        type: 'synthesis',
        sectionId: 'skills-ai',
        title: 'Think Deeper',
        activities: [
          {
            type: 'scenario',
            id: 'skills-syn-sc1',
            scenario: 'A colleague says: "Why did you spend 5 weeks learning codebase skills? Just use AI to figure it out." They copy-paste AI code without understanding it.',
            question: 'How would you explain why your skills make you more valuable, not less, in the AI era?',
            evaluation: {
              keywords: ['context', 'verify', 'understand', 'direction', 'quality', 'patterns', 'edge cases', 'reliable'],
              minWords: 45,
              pointsPerKeyword: 4,
              depthBonus: 12
            },
            modelAnswer: 'I\'d explain: AI without understanding is dangerous. My skills let me provide context for better output, verify correctness, and catch edge cases. Your copy-paste code will break in production. I direct AI with understanding; you hope AI guesses right. One produces reliable features, one produces debt.',
            points: 25
          },
          {
            type: 'prediction',
            id: 'skills-syn-pred1',
            setup: {
              type: 'text',
              content: 'Developer A: Uses AI without understanding codebase. Copies output directly.\n\nDeveloper B: Uses navigation skills to understand context, then prompts AI with specific patterns.'
            },
            question: 'Whose AI-generated code will have fewer bugs in production?',
            correctAnswer: 'B',
            acceptableVariants: ['b', 'dev b', 'developer b'],
            explanation: 'Developer B\'s context means AI output matches actual requirements and patterns.',
            commonMistakes: {
              'A': 'Without context, AI guesses‚Äîguesses often miss edge cases and codebase conventions.'
            },
            points: 15
          },
          {
            type: 'scenario',
            id: 'skills-syn-sc2',
            scenario: 'You\'re adding a feature to an unfamiliar service. You could: A) Ask AI to generate the feature or B) Use navigation skills to understand the service first, then work with AI.',
            question: 'Which approach would produce better results and why?',
            evaluation: {
              keywords: ['understand', 'patterns', 'context', 'verify', 'fit', 'integration', 'quality', 'correct'],
              minWords: 40,
              pointsPerKeyword: 4,
              depthBonus: 10
            },
            modelAnswer: 'Approach B. Understanding first means I can give AI correct context (existing patterns, constraints). I can verify output fits the service. Approach A produces generic code that might not integrate correctly. Navigation skills make AI partnership effective.',
            points: 25
          },
          {
            type: 'reflection',
            id: 'skills-syn-ref1',
            prompt: 'How has your relationship with AI tools changed during this course? What will you do differently now that you have stronger foundational skills?',
            thinkingPrompts: [
              'Did you use AI before? How?',
              'What context can you now provide that you couldn\'t before?',
              'How will you verify AI output differently?',
              'What skills will you lean on most?'
            ],
            evaluation: {
              minWords: 50,
              depthIndicators: [
                { pattern: '(before|used to|previously)', label: 'Self-awareness', points: 5 },
                { pattern: '(context|understand|pattern)', label: 'Skills integration', points: 5 },
                { pattern: '(verify|check|test)', label: 'Quality mindset', points: 5 },
                { pattern: '(now|will|going to)', label: 'Future application', points: 5 }
              ],
              maxScore: 20
            },
            points: 20
          },
          {
            type: 'graph-builder',
            id: 'skills-syn-graph1',
            instruction: 'Build the value chain: Your Skills ‚Üí Context ‚Üí AI Execution ‚Üí Senior Output',
            nodeTypes: [
              { type: 'skills', label: 'üß† Your Skills', color: '#42a5f5' },
              { type: 'context', label: 'üîó Your Context', color: '#66bb6a' },
              { type: 'ai', label: 'ü§ñ AI Execution', color: '#ffa726' },
              { type: 'output', label: 'üöÄ Senior Output', color: '#7986cb' }
            ],
            validation: {
              requiredNodes: ['skills', 'context', 'ai', 'output'],
              requiredEdges: [
                { from: 'skills', to: 'context' },
                { from: 'context', to: 'ai' },
                { from: 'ai', to: 'output' }
              ],
              optionalNodes: [],
              minNodes: 4,
              maxNodes: 5
            },
            hints: [
              'Skills enable context',
              'Context directs AI',
              'AI produces output'
            ],
            points: 30
          },
          {
            type: 'scenario',
            id: 'skills-syn-sc3',
            scenario: 'In an interview, the interviewer asks: "With AI coding tools, why do developers need to understand code deeply?"',
            question: 'How would you answer based on what you\'ve learned?',
            evaluation: {
              keywords: ['context', 'verify', 'direction', 'edge cases', 'patterns', 'quality', 'reliable', 'understand'],
              minWords: 45,
              pointsPerKeyword: 4,
              depthBonus: 12
            },
            modelAnswer: 'AI is a powerful tool, but it needs direction. Understanding lets me provide context for relevant output, verify correctness, catch edge cases, and maintain quality. Without understanding, I\'m just hoping AI guesses right. Deep knowledge makes AI partnerships actually work‚Äîit\'s the difference between 10x productivity and 10x bugs.',
            points: 25
          }
        ]
      });
      skillsAiSynthesis.init();

      // ============================================
      // ACTIVITY CAROUSELS - WORKFLOW SECTION
      // ============================================

      const workflowComprehension = new ActivityCarousel('workflow-comprehension', {
        type: 'comprehension',
        sectionId: 'workflow',
        title: 'Check Your Understanding',
        activities: [
          {
            type: 'quiz',
            id: 'work-comp-q1',
            question: 'In the AI-paired workflow, which phases are human-led?',
            options: [
              'Only Execute',
              'Design, Prompt, Verify, Integrate, Test',
              'All phases',
              'None‚ÄîAI does everything'
            ],
            correct: 1,
            explanation: 'Only Execute is AI-led. Humans lead Design, Prompt, Verify, Integrate, and Test.',
            points: 10
          },
          {
            type: 'quiz',
            id: 'work-comp-q2',
            question: 'Why is Verify critical after AI execution?',
            options: [
              'To thank the AI',
              'AI never makes mistakes',
              'To ensure output matches your design and handles edge cases',
              'It\'s optional'
            ],
            correct: 2,
            explanation: 'AI can produce plausible-looking but incorrect code. Verification catches mismatches.',
            points: 10
          },
          {
            type: 'true-false',
            id: 'work-comp-tf1',
            statement: 'The Integrate phase adapts AI output to match your codebase style.',
            correct: true,
            explanation: 'AI doesn\'t know your codebase conventions. Integration ensures consistency.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'true-false',
            id: 'work-comp-tf2',
            statement: 'If AI generates tests, you can trust them without reviewing.',
            correct: false,
            explanation: 'AI-generated tests might not cover the right cases. You must verify every assertion.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'fill-blank',
            id: 'work-comp-fill1',
            statement: 'The Design phase establishes requirements, diagrams, and ___ cases.',
            correctAnswers: ['edge', 'corner', 'boundary'],
            caseSensitive: false,
            hints: ['Unusual or extreme situations'],
            explanation: 'Edge cases defined upfront help you verify AI output completeness.',
            points: 10
          },
          {
            type: 'fill-blank',
            id: 'work-comp-fill2',
            statement: 'A clear ___ with context produces much better AI output than vague requests.',
            correctAnswers: ['prompt', 'instruction', 'request'],
            caseSensitive: false,
            hints: ['What you give to AI'],
            explanation: 'Prompt quality directly determines output quality.',
            points: 10
          }
        ]
      });
      workflowComprehension.init();

      const workflowApplication = new ActivityCarousel('workflow-application', {
        type: 'application',
        sectionId: 'workflow',
        title: 'Apply What You Learned',
        activities: [
          {
            type: 'sequence',
            id: 'work-app-seq1',
            instruction: 'Order the AI-paired workflow from first to last:',
            items: [
              { id: 'w1', text: 'Design [HUMAN] - Requirements, diagrams' },
              { id: 'w2', text: 'Prompt [HUMAN] - Clear prompts with context' },
              { id: 'w3', text: 'Execute [AI] - Generate code' },
              { id: 'w4', text: 'Verify [HUMAN] - Check design match' },
              { id: 'w5', text: 'Integrate [HUMAN] - Adapt to codebase' },
              { id: 'w6', text: 'Test [HUMAN] - Verify assertions' },
              { id: 'w7', text: 'Ship!' }
            ],
            correctOrder: ['w1', 'w2', 'w3', 'w4', 'w5', 'w6', 'w7'],
            hints: {
              partial: 'Design comes first, Ship comes last.',
              wrong: 'Design ‚Üí Prompt ‚Üí Execute ‚Üí Verify ‚Üí Integrate ‚Üí Test ‚Üí Ship'
            },
            explanation: 'The workflow ensures human oversight of AI output at every stage.',
            points: 20
          },
          {
            type: 'drag-drop',
            id: 'work-app-dd1',
            instruction: 'Match each workflow phase to its key activity:',
            items: [
              { id: 'a1', text: 'Draw data flow diagrams' },
              { id: 'a2', text: 'Write prompts with context' },
              { id: 'a3', text: 'Generate code' },
              { id: 'a4', text: 'Check edge case handling' },
              { id: 'a5', text: 'Match codebase conventions' },
              { id: 'a6', text: 'Review every test assertion' }
            ],
            zones: [
              { id: 'design', label: 'üìã Design', correct: ['a1'] },
              { id: 'prompt', label: 'üí¨ Prompt', correct: ['a2'] },
              { id: 'execute', label: 'ü§ñ Execute', correct: ['a3'] },
              { id: 'verify', label: 'üîç Verify', correct: ['a4'] },
              { id: 'integrate', label: 'üîß Integrate', correct: ['a5'] },
              { id: 'test', label: '‚úÖ Test', correct: ['a6'] }
            ],
            explanation: 'Each phase has specific responsibilities.',
            points: 20
          },
          {
            type: 'connect-edges',
            id: 'work-app-connect1',
            instruction: 'Connect each verification check to what it catches:',
            nodes: [
              { id: 'design-match', label: 'üìã Design Match' },
              { id: 'edge-check', label: '‚ö†Ô∏è Edge Cases' },
              { id: 'style-check', label: 'üé® Style Check' },
              { id: 'wrong', label: 'Wrong solution' },
              { id: 'bugs', label: 'Hidden bugs' },
              { id: 'inconsistent', label: 'Inconsistent code' }
            ],
            solution: {
              edges: [
                { source: 'design-match', target: 'wrong' },
                { source: 'edge-check', target: 'bugs' },
                { source: 'style-check', target: 'inconsistent' }
              ]
            },
            explanation: 'Different checks catch different types of problems.',
            points: 25
          },
          {
            type: 'quiz',
            id: 'work-app-quiz1',
            question: 'AI generates a test that always passes. What should you do?',
            options: [
              'Trust it‚ÄîAI knows testing',
              'Skip testing‚Äîthe feature works',
              'Review the assertion to ensure it\'s actually testing something meaningful',
              'Ask AI to generate more tests'
            ],
            correct: 2,
            explanation: 'AI can generate tests that pass trivially. You must verify assertions are meaningful.',
            points: 15
          },
          {
            type: 'sequence',
            id: 'work-app-seq2',
            instruction: 'Order these prompts from worst to best AI context:',
            items: [
              { id: 'p1', text: '"Write the feature"' },
              { id: 'p2', text: '"Write feature X that does Y"' },
              { id: 'p3', text: '"Write feature X per this design doc, using our patterns"' },
              { id: 'p4', text: 'Full design doc + diagrams + edge cases + codebase examples' }
            ],
            correctOrder: ['p1', 'p2', 'p3', 'p4'],
            hints: {
              partial: 'More context = better output.',
              wrong: 'Vague ‚Üí Basic ‚Üí With patterns ‚Üí Full context'
            },
            explanation: 'Comprehensive context produces comprehensive, correct output.',
            points: 15
          },
          {
            type: 'drag-drop',
            id: 'work-app-dd2',
            instruction: 'Categorize each as "Skip This" or "Always Do":',
            items: [
              { id: 's1', text: 'Trust AI output blindly' },
              { id: 's2', text: 'Skip code review since AI wrote it' },
              { id: 'a1', text: 'Verify output matches design' },
              { id: 'a2', text: 'Check edge case handling' },
              { id: 's3', text: 'Copy-paste without reading' },
              { id: 'a3', text: 'Adapt to codebase style' }
            ],
            zones: [
              { id: 'skip', label: '‚õî Skip This', correct: ['s1', 's2', 's3'] },
              { id: 'always', label: '‚úÖ Always Do', correct: ['a1', 'a2', 'a3'] }
            ],
            explanation: 'AI requires human oversight at every step.',
            points: 20
          }
        ]
      });
      workflowApplication.init();

      const workflowSynthesis = new ActivityCarousel('workflow-synthesis', {
        type: 'synthesis',
        sectionId: 'workflow',
        title: 'Think Deeper',
        activities: [
          {
            type: 'scenario',
            id: 'work-syn-sc1',
            scenario: 'Your team wants to "move fast" and skip the Verify and Integrate phases. "AI code is good enough‚Äîjust ship it!"',
            question: 'How would you argue for keeping these phases?',
            evaluation: {
              keywords: ['bugs', 'production', 'edge cases', 'consistency', 'verify', 'integrate', 'quality', 'debt'],
              minWords: 45,
              pointsPerKeyword: 4,
              depthBonus: 12
            },
            modelAnswer: 'I\'d explain: AI code often looks correct but misses edge cases. Skipping Verify means bugs in production. Skipping Integrate means inconsistent codebase‚Äîtechnical debt accumulates. The 30 minutes of verification saves days of debugging. "Fast" shipping that causes production issues isn\'t actually fast.',
            points: 25
          },
          {
            type: 'prediction',
            id: 'work-syn-pred1',
            setup: {
              type: 'text',
              content: 'Team A: Uses full AI-paired workflow with all phases.\n\nTeam B: Just prompts AI and ships output directly.'
            },
            question: 'Which team will have fewer production incidents?',
            correctAnswer: 'A',
            acceptableVariants: ['a', 'team a'],
            explanation: 'Team A\'s verification catches issues before production. Team B ships AI\'s mistakes.',
            commonMistakes: {
              'B': 'AI output without verification often contains subtle bugs that break in production.'
            },
            points: 15
          },
          {
            type: 'scenario',
            id: 'work-syn-sc2',
            scenario: 'You followed the workflow perfectly, but AI output still had a bug that made it to production. What would you add to your workflow to prevent similar issues?',
            question: 'How would you strengthen your verification and testing phases?',
            evaluation: {
              keywords: ['edge cases', 'checklist', 'test', 'review', 'specific', 'scenario', 'verify', 'better'],
              minWords: 40,
              pointsPerKeyword: 4,
              depthBonus: 10
            },
            modelAnswer: 'I\'d add: (1) Edge case checklist specific to this type of feature, (2) More targeted test scenarios, (3) Second-person review of AI output, (4) Better design doc with failure modes documented. Each production bug teaches us what to verify more carefully next time.',
            points: 25
          },
          {
            type: 'reflection',
            id: 'work-syn-ref1',
            prompt: 'Think about how you would use this AI-paired workflow on your next feature. Which phases will be hardest for you? Which skills from the course will help most?',
            thinkingPrompts: [
              'What do you need to improve in Design?',
              'How will you craft better prompts?',
              'What will you check during Verify?',
              'How will you ensure Integration quality?'
            ],
            evaluation: {
              minWords: 50,
              depthIndicators: [
                { pattern: '(design|requirement|diagram)', label: 'Design thinking', points: 5 },
                { pattern: '(prompt|context|clear)', label: 'Prompt awareness', points: 5 },
                { pattern: '(verify|check|test)', label: 'Quality mindset', points: 5 },
                { pattern: '(integrate|style|codebase)', label: 'Integration awareness', points: 5 }
              ],
              maxScore: 20
            },
            points: 20
          },
          {
            type: 'graph-builder',
            id: 'work-syn-graph1',
            instruction: 'Build the AI-paired workflow with human/AI labels: Design[H] ‚Üí Prompt[H] ‚Üí Execute[AI] ‚Üí Verify[H] ‚Üí Integrate[H] ‚Üí Test[H] ‚Üí Ship',
            nodeTypes: [
              { type: 'design', label: 'üìã Design [H]', color: '#42a5f5' },
              { type: 'prompt', label: 'üí¨ Prompt [H]', color: '#66bb6a' },
              { type: 'execute', label: 'ü§ñ Execute [AI]', color: '#ffa726' },
              { type: 'verify', label: 'üîç Verify [H]', color: '#7986cb' },
              { type: 'integrate', label: 'üîß Integrate [H]', color: '#ef5350' },
              { type: 'test', label: '‚úÖ Test [H]', color: '#ab47bc' },
              { type: 'ship', label: 'üö¢ Ship!', color: '#26a69a' }
            ],
            validation: {
              requiredNodes: ['design', 'prompt', 'execute', 'verify', 'integrate', 'test', 'ship'],
              requiredEdges: [
                { from: 'design', to: 'prompt' },
                { from: 'prompt', to: 'execute' },
                { from: 'execute', to: 'verify' },
                { from: 'verify', to: 'integrate' },
                { from: 'integrate', to: 'test' },
                { from: 'test', to: 'ship' }
              ],
              optionalNodes: [],
              minNodes: 7,
              maxNodes: 8
            },
            hints: [
              'Only Execute is AI-led',
              'Human phases surround AI execution',
              'Ship is the final destination'
            ],
            points: 30
          },
          {
            type: 'scenario',
            id: 'work-syn-sc3',
            scenario: 'A junior asks: "Why do I need to verify AI code? It\'s smarter than me."',
            question: 'How would you explain why human verification is essential?',
            evaluation: {
              keywords: ['context', 'requirements', 'edge cases', 'codebase', 'patterns', 'verify', 'understand', 'responsible'],
              minWords: 40,
              pointsPerKeyword: 4,
              depthBonus: 10
            },
            modelAnswer: 'AI is powerful but doesn\'t know YOUR requirements, codebase patterns, or edge cases. It generates plausible code that might be subtly wrong. You understand the context AI doesn\'t have. You\'re responsible for the code‚Äî"AI wrote it" isn\'t an excuse. Verification is where your skills matter most.',
            points: 25
          }
        ]
      });
      workflowSynthesis.init();

      // ============================================
      // ACTIVITY CAROUSELS - JOURNEY COMPLETE SECTION
      // ============================================

      const journeyComprehension = new ActivityCarousel('journey-comprehension', {
        type: 'comprehension',
        sectionId: 'journey-complete',
        title: 'Check Your Understanding',
        activities: [
          {
            type: 'quiz',
            id: 'journey-comp-q1',
            question: 'What transformation did you undergo from Week 0 to Week 6?',
            options: [
              'Junior coder to junior coder with more projects',
              'Junior coder to senior engineer mindset',
              'No transformation‚Äîjust learned some tools',
              'Became an AI expert'
            ],
            correct: 1,
            explanation: 'The course built senior-level thinking: navigation, flow, integration, design‚Äînot just tools.',
            points: 10
          },
          {
            type: 'quiz',
            id: 'journey-comp-q2',
            question: 'Which skills from the course form your foundation for AI partnership?',
            options: [
              'Only AI prompting skills',
              'Navigation, Data Flow, Integration, Design',
              'Just coding faster',
              'Memorizing syntax'
            ],
            correct: 1,
            explanation: 'These four core skills become the context you provide to AI for effective partnership.',
            points: 10
          },
          {
            type: 'true-false',
            id: 'journey-comp-tf1',
            statement: 'Learning to "Read Any Codebase" (Navigation) helps you understand and verify AI-generated code.',
            correct: true,
            explanation: 'Navigation skills let you read AI output critically, not just accept it blindly.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'true-false',
            id: 'journey-comp-tf2',
            statement: 'The capstone project was optional‚Äîthe real learning was in the lessons.',
            correct: false,
            explanation: 'The capstone proves you can apply everything to a real feature with real ownership.',
            requireReasoning: true,
            minReasoningWords: 8,
            points: 15
          },
          {
            type: 'fill-blank',
            id: 'journey-comp-fill1',
            statement: 'Data Flow skills let you ___ systematically to find bugs.',
            correctAnswers: ['trace', 'debug', 'follow'],
            caseSensitive: false,
            hints: ['Following the path of data'],
            explanation: 'Systematic tracing is how you debug methodically instead of randomly guessing.',
            points: 10
          },
          {
            type: 'fill-blank',
            id: 'journey-comp-fill2',
            statement: 'Integration skills teach you to handle ___ gracefully in distributed systems.',
            correctAnswers: ['failure', 'failures', 'errors'],
            caseSensitive: false,
            hints: ['When things go wrong'],
            explanation: 'Resilience patterns prepare you for real-world distributed system challenges.',
            points: 10
          }
        ]
      });
      journeyComprehension.init();

      const journeyApplication = new ActivityCarousel('journey-application', {
        type: 'application',
        sectionId: 'journey-complete',
        title: 'Apply What You Learned',
        activities: [
          {
            type: 'connect-edges',
            id: 'journey-app-connect1',
            instruction: 'Connect each chapter to its core skill:',
            nodes: [
              { id: 'ch1', label: 'ü™® Chapter 1: Stone' },
              { id: 'ch2', label: '‚ö° Chapter 2: Lightning' },
              { id: 'ch3', label: 'üß≤ Chapter 3: Magnetism' },
              { id: 'ch4', label: 'üèõÔ∏è Chapter 4: Architect' },
              { id: 'nav', label: 'Codebase Navigation' },
              { id: 'flow', label: 'Data Flow Tracing' },
              { id: 'int', label: 'Integration Resilience' },
              { id: 'des', label: 'Design-First Thinking' }
            ],
            solution: {
              edges: [
                { source: 'ch1', target: 'nav' },
                { source: 'ch2', target: 'flow' },
                { source: 'ch3', target: 'int' },
                { source: 'ch4', target: 'des' }
              ]
            },
            explanation: 'Each chapter built a distinct senior skill.',
            points: 25
          },
          {
            type: 'drag-drop',
            id: 'journey-app-dd1',
            instruction: 'Match each skill to how it helps in real work:',
            items: [
              { id: 's1', text: 'Read unfamiliar code confidently' },
              { id: 's2', text: 'Debug by following data through system' },
              { id: 's3', text: 'Build systems that handle failures' },
              { id: 's4', text: 'Think before coding to save time' }
            ],
            zones: [
              { id: 'nav', label: 'ü™® Navigation', correct: ['s1'] },
              { id: 'flow', label: '‚ö° Data Flow', correct: ['s2'] },
              { id: 'int', label: 'üß≤ Integration', correct: ['s3'] },
              { id: 'des', label: 'üèõÔ∏è Design', correct: ['s4'] }
            ],
            explanation: 'Each skill has practical, daily applications.',
            points: 20
          },
          {
            type: 'sequence',
            id: 'journey-app-seq1',
            instruction: 'Order the course journey from start to finish:',
            items: [
              { id: 'j1', text: 'Week 0: Junior Coder (starting point)' },
              { id: 'j2', text: 'Learn Navigation (read any codebase)' },
              { id: 'j3', text: 'Learn Data Flow (trace systematically)' },
              { id: 'j4', text: 'Learn Integration (resilience patterns)' },
              { id: 'j5', text: 'Learn Design (think before code)' },
              { id: 'j6', text: 'Capstone: Real Feature + AI Partnership' },
              { id: 'j7', text: 'Week 6: Senior Engineer' }
            ],
            correctOrder: ['j1', 'j2', 'j3', 'j4', 'j5', 'j6', 'j7'],
            hints: {
              partial: 'Start junior, end senior.',
              wrong: 'Junior ‚Üí Nav ‚Üí Flow ‚Üí Int ‚Üí Design ‚Üí Capstone ‚Üí Senior'
            },
            explanation: 'The course progressively built senior-level capabilities.',
            points: 20
          },
          {
            type: 'quiz',
            id: 'journey-app-quiz1',
            question: 'What proves you\'re ready for senior-level work?',
            options: [
              'Finishing all the lessons',
              'Owning a real feature from requirements to production',
              'Using AI tools',
              'Memorizing design patterns'
            ],
            correct: 1,
            explanation: 'The capstone‚Äîowning a real feature end-to-end‚Äîproves senior-level capability.',
            points: 15
          },
          {
            type: 'drag-drop',
            id: 'journey-app-dd2',
            instruction: 'Categorize each as Week 0 You or Week 6 You:',
            items: [
              { id: 'w0a', text: 'Hope AI guesses right' },
              { id: 'w0b', text: 'Get lost in new codebases' },
              { id: 'w6a', text: 'Direct AI with clear context' },
              { id: 'w6b', text: 'Navigate any codebase confidently' },
              { id: 'w0c', text: 'Debug by random guessing' },
              { id: 'w6c', text: 'Trace data flow systematically' }
            ],
            zones: [
              { id: 'week0', label: 'üìÖ Week 0 You', correct: ['w0a', 'w0b', 'w0c'] },
              { id: 'week6', label: 'üåü Week 6 You', correct: ['w6a', 'w6b', 'w6c'] }
            ],
            explanation: 'The transformation is from reactive to proactive, random to systematic.',
            points: 20
          },
          {
            type: 'sequence',
            id: 'journey-app-seq2',
            instruction: 'Order these from least to most senior-level behavior:',
            items: [
              { id: 'b1', text: 'Code what\'s in the ticket' },
              { id: 'b2', text: 'Clarify requirements before coding' },
              { id: 'b3', text: 'Design, implement, and test' },
              { id: 'b4', text: 'Own full lifecycle with AI partnership' }
            ],
            correctOrder: ['b1', 'b2', 'b3', 'b4'],
            hints: {
              partial: 'More ownership = more senior.',
              wrong: 'Just code ‚Üí Clarify ‚Üí Design+test ‚Üí Full ownership'
            },
            explanation: 'Senior-level means full ownership with modern tools.',
            points: 15
          }
        ]
      });
      journeyApplication.init();

      const journeySynthesis = new ActivityCarousel('journey-synthesis', {
        type: 'synthesis',
        sectionId: 'journey-complete',
        title: 'Think Deeper',
        activities: [
          {
            type: 'scenario',
            id: 'journey-syn-sc1',
            scenario: 'In a job interview, the interviewer asks: "Tell me about a time you demonstrated senior-level thinking, not just coding."',
            question: 'Using your capstone experience, how would you answer?',
            evaluation: {
              keywords: ['requirements', 'design', 'ownership', 'stakeholders', 'production', 'lifecycle', 'decisions', 'trade-offs'],
              minWords: 50,
              pointsPerKeyword: 4,
              depthBonus: 15
            },
            modelAnswer: 'I\'d describe my capstone: I clarified requirements with stakeholders, designed the solution with diagrams, made trade-off decisions, implemented with tests, and deployed to production. I owned the full lifecycle, not just the code. I used AI as a tool while maintaining ownership and verifying every output. This is senior-level work.',
            points: 30
          },
          {
            type: 'prediction',
            id: 'journey-syn-pred1',
            setup: {
              type: 'text',
              content: 'Six months from now, Developer A continues learning new frameworks and tools.\n\nDeveloper B practices the skills from this course on real features.'
            },
            question: 'Who will be more valuable to their team as a senior engineer?',
            correctAnswer: 'B',
            acceptableVariants: ['b', 'dev b', 'developer b'],
            explanation: 'Tools change; fundamental skills (navigation, flow, design, ownership) transfer everywhere.',
            commonMistakes: {
              'A': 'New tools without foundational skills just means struggling with new tools.'
            },
            points: 15
          },
          {
            type: 'scenario',
            id: 'journey-syn-sc2',
            scenario: 'A junior colleague asks you to mentor them. They want to become senior-level faster.',
            question: 'Based on your journey, what would you recommend they focus on?',
            evaluation: {
              keywords: ['navigation', 'data flow', 'design', 'ownership', 'real features', 'AI', 'context', 'thinking'],
              minWords: 45,
              pointsPerKeyword: 4,
              depthBonus: 12
            },
            modelAnswer: 'Focus on fundamentals: (1) Learn to navigate any codebase, (2) Practice tracing data flow to debug, (3) Think design-first before coding, (4) Take ownership of real features end-to-end. These skills make everything else easier‚Äîincluding AI partnerships. Don\'t chase tools; build thinking skills.',
            points: 25
          },
          {
            type: 'reflection',
            id: 'journey-syn-ref1',
            prompt: 'Looking back at your journey from Week 0 to now, what was your biggest "aha" moment? What skill surprised you most in its impact?',
            thinkingPrompts: [
              'When did something "click"?',
              'Which skill changed how you work most?',
              'What will you keep doing?',
              'What would you tell Week 0 You?'
            ],
            evaluation: {
              minWords: 60,
              depthIndicators: [
                { pattern: '(realize|understand|click)', label: 'Insight recognition', points: 5 },
                { pattern: '(change|different|before)', label: 'Growth awareness', points: 5 },
                { pattern: '(continue|keep|maintain)', label: 'Future commitment', points: 5 },
                { pattern: '(navigation|flow|design|ownership)', label: 'Skill integration', points: 5 }
              ],
              maxScore: 20
            },
            points: 25
          },
          {
            type: 'graph-builder',
            id: 'journey-syn-graph1',
            instruction: 'Build your skill stack: Navigation ‚Üí Data Flow ‚Üí Integration ‚Üí Design ‚Üí AI Partnership ‚Üí Senior Engineer',
            nodeTypes: [
              { type: 'nav', label: 'ü™® Navigation', color: '#42a5f5' },
              { type: 'flow', label: '‚ö° Data Flow', color: '#66bb6a' },
              { type: 'int', label: 'üß≤ Integration', color: '#ffa726' },
              { type: 'design', label: 'üèõÔ∏è Design', color: '#7986cb' },
              { type: 'ai', label: 'ü§ñ AI Partnership', color: '#ef5350' },
              { type: 'senior', label: 'üåü Senior Engineer', color: '#ab47bc' }
            ],
            validation: {
              requiredNodes: ['nav', 'flow', 'int', 'design', 'ai', 'senior'],
              requiredEdges: [
                { from: 'nav', to: 'flow' },
                { from: 'flow', to: 'int' },
                { from: 'int', to: 'design' },
                { from: 'design', to: 'ai' },
                { from: 'ai', to: 'senior' }
              ],
              optionalNodes: [],
              minNodes: 6,
              maxNodes: 7
            },
            hints: [
              'Skills build on each other',
              'AI partnership requires all previous skills',
              'Senior engineer is the destination'
            ],
            points: 30
          },
          {
            type: 'scenario',
            id: 'journey-syn-sc3',
            scenario: 'You\'re starting your first day at a new company. How will you apply the skills from this course immediately?',
            question: 'Describe your first-week plan using navigation, data flow, design, and AI partnership skills.',
            evaluation: {
              keywords: ['navigate', 'explore', 'trace', 'understand', 'ask', 'design', 'AI', 'context', 'patterns'],
              minWords: 50,
              pointsPerKeyword: 4,
              depthBonus: 15
            },
            modelAnswer: 'Week 1: (1) Navigate the codebase‚Äîfind entry points, understand structure. (2) Trace a key data flow to understand how things work. (3) Ask about design patterns and constraints. (4) Before any feature, write design docs. (5) Use AI with the context I\'ve gathered for 10x velocity. Start with understanding, then accelerate.',
            points: 30
          }
        ]
      });
      journeySynthesis.init();

      console.log('üé† All activity carousels initialized for Junior Ch6: Capstone II');
    });
  </script>
</body>
</html>
