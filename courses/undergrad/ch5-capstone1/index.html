<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Capstone I: Ship Something Real | AutoNateAI Bridge</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../shared/css/lesson-interactive.css">
</head>
<body data-course="undergrad" data-lesson="ch5-capstone1">
  <header class="header">
    <div class="header-content">
      <a href="../../index.html" class="logo">
        <div class="logo-icon">ğŸ”¥</div>
        <span>Capstone I</span>
      </a>
      <nav class="nav-links">
        <a href="../index.html">â† Undergrad Bridge</a>
        <a href="../ch4-architect/">Ch 4</a>
        <a href="index.html" class="active">Capstone I</a>
        <a href="../ch6-capstone2/">Capstone II</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="page-header">
      <div class="breadcrumb">
        <a href="../index.html">Undergrad Bridge</a>
        <span>/</span>
        <span>Capstone I: Ship Something Real</span>
      </div>
      <h1>ğŸ”¥ Ship Something Real</h1>
      <p>Theory is worthless without execution. Build and deploy a complete application you'd be proud to show in an interviewâ€”deployed, tested, documented, and professional.</p>
    </div>

    <!-- Audio Info -->
    <section class="section audio-info-section">
      <div class="info-box compact">
        <div class="info-header">
          <span class="info-icon">ğŸ™ï¸</span>
          <div>
            <h4>Interactive Learning Experience</h4>
            <p>Watch diagrams come alive with AI narration â€¢ Click dots to jump â€¢ Test your understanding with quizzes</p>
          </div>
        </div>
        <div class="voice-options">
          <span class="voice-badge">ğŸ‘©â€ğŸ¤ Female Storyteller</span>
          <span class="voice-badge">ğŸ© Male UK Storyteller</span>
        </div>
      </div>
    </section>

    <!-- Story 1: The Quest -->
    <section class="section" id="quest-section">
      <h2>The Quest: Ship Something Real</h2>
      <p>This isn't a school project. This is a productâ€”something that works, that's deployed, that you can demo to a recruiter. Learn what separates homework from a portfolio piece.</p>
      
      <div class="diagram-container" id="quest-container">
        <div class="diagram-header">
          <span class="diagram-title">ğŸ¯ What Makes This Different</span>
        </div>
        <div id="quest-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="quest-story-caption">
          <div class="story-step">
            <div class="story-icon visible">ğŸš€</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">â†’</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">â–¶ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="quest-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>â±ï¸</label>
            <select id="quest-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="quest-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">ğŸ”Š</span>
            </button>
          </div>
          <div class="control-group">
            <label>ğŸ¤</label>
            <select id="quest-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Activity Carousels -->
      <div class="activity-carousels" data-story="quest-story">
        <div id="quest-comprehension" class="carousel-container"></div>
        <div id="quest-application" class="carousel-container"></div>
        <div id="quest-synthesis" class="carousel-container"></div>
        <div id="quest-quiz" class="carousel-container"></div>
      </div>
    </section>

    <!-- Story 2: Architecture -->
    <section class="section" id="architecture-section">
      <h2>Choose Your Path</h2>
      <p>Three options, same production skills. Pick Developer Tool, SaaS Product, or API Platform based on what you want in your portfolio. All lead to the same professional architecture.</p>
      
      <div class="diagram-container" id="architecture-container">
        <div class="diagram-header">
          <span class="diagram-title">ğŸ› ï¸ Three Paths, One Architecture</span>
        </div>
        <div id="architecture-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="architecture-story-caption">
          <div class="story-step">
            <div class="story-icon visible">ğŸš€</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">â†’</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">â–¶ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="architecture-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>â±ï¸</label>
            <select id="architecture-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="architecture-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">ğŸ”Š</span>
            </button>
          </div>
          <div class="control-group">
            <label>ğŸ¤</label>
            <select id="architecture-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Activity Carousels -->
      <div class="activity-carousels" data-story="architecture-story">
        <div id="architecture-comprehension" class="carousel-container"></div>
        <div id="architecture-application" class="carousel-container"></div>
        <div id="architecture-synthesis" class="carousel-container"></div>
        <div id="architecture-quiz" class="carousel-container"></div>
      </div>
    </section>

    <!-- Story 3: Requirements -->
    <section class="section" id="requirements-section">
      <h2>Must-Have Requirements</h2>
      <p>Your capstone must meet production standards in four areas: Code Quality, Data Layer, API Layer, and Deployment. Here's what each pillar requires.</p>
      
      <div class="diagram-container" id="requirements-container">
        <div class="diagram-header">
          <span class="diagram-title">ğŸ›ï¸ The Four Pillars</span>
        </div>
        <div id="requirements-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="requirements-story-caption">
          <div class="story-step">
            <div class="story-icon visible">ğŸš€</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">â†’</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">â–¶ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="requirements-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>â±ï¸</label>
            <select id="requirements-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="requirements-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">ğŸ”Š</span>
            </button>
          </div>
          <div class="control-group">
            <label>ğŸ¤</label>
            <select id="requirements-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Activity Carousels -->
      <div class="activity-carousels" data-story="requirements-story">
        <div id="requirements-comprehension" class="carousel-container"></div>
        <div id="requirements-application" class="carousel-container"></div>
        <div id="requirements-synthesis" class="carousel-container"></div>
        <div id="requirements-quiz" class="carousel-container"></div>
      </div>
    </section>

    <!-- Story 4: Quality Standards -->
    <section class="section" id="quality-section">
      <h2>School vs Production Quality</h2>
      <p>There's a massive gap between "works on my machine" and production quality. See what separates a school project from code that impresses senior engineers.</p>
      
      <div class="diagram-container" id="quality-container">
        <div class="diagram-header">
          <span class="diagram-title">ğŸ’ The Quality Gap</span>
        </div>
        <div id="quality-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="quality-story-caption">
          <div class="story-step">
            <div class="story-icon visible">ğŸš€</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">â†’</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">â–¶ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="quality-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>â±ï¸</label>
            <select id="quality-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="quality-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">ğŸ”Š</span>
            </button>
          </div>
          <div class="control-group">
            <label>ğŸ¤</label>
            <select id="quality-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Activity Carousels -->
      <div class="activity-carousels" data-story="quality-story">
        <div id="quality-comprehension" class="carousel-container"></div>
        <div id="quality-application" class="carousel-container"></div>
        <div id="quality-synthesis" class="carousel-container"></div>
        <div id="quality-quiz" class="carousel-container"></div>
      </div>
    </section>

    <!-- Next Steps -->
    <section class="section">
      <h2>Ready to Build?</h2>
      <p>You know what's required: deployed, tested, documented, professional. Pick your path, design your architecture, and ship something real. Then come back for Capstone II to level up even further.</p>
      <div class="cards-grid" style="grid-template-columns: repeat(2, 1fr);">
        <a href="../ch6-capstone2/" class="card">
          <div class="card-icon">ğŸš€</div>
          <h3>Capstone II: Scale & Polish</h3>
          <p>Add advanced features, optimize performance, and prepare for production scale.</p>
        </a>
        <a href="../index.html" class="card">
          <div class="card-icon">ğŸ“š</div>
          <h3>Course Overview</h3>
          <p>See all chapters in Undergrad Bridge.</p>
        </a>
      </div>
    </section>
  </main>

  <nav class="page-nav">
    <h4>On This Page</h4>
    <ul>
      <li><a href="#quest-section">The Quest</a></li>
      <li><a href="#architecture-section">Choose Your Path</a></li>
      <li><a href="#requirements-section">Requirements</a></li>
      <li><a href="#quality-section">Quality Standards</a></li>
    </ul>
  </nav>

  <button class="back-to-top" title="Back to top">â†‘</button>

  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.min.js"></script>
  <!-- Firebase & Activity Tracking -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="../../shared/js/firebase-config.js"></script>
  <script src="../../shared/js/auth.js"></script>
  <script src="../../shared/js/data-service.js"></script>
  <script src="../../shared/js/activity-tracker.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dagre/0.8.5/dagre.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-dagre@2.5.0/cytoscape-dagre.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-cose-bilkent@4.1.0/cytoscape-cose-bilkent.min.js"></script>
  
  <!-- Interactive Engines -->
  <script src="../../shared/js/interactive/diagram-utils.js"></script>
  <script src="../../shared/js/interactive/audio-engine.js"></script>
  <script src="../../shared/js/interactive/storytelling-diagram.js"></script>

  <!-- Activity Carousel System -->
  <script src="../../shared/js/interactive/base-activity.js"></script>
  <script src="../../shared/js/interactive/activities/quiz-activity.js"></script>
  <script src="../../shared/js/interactive/activities/true-false-activity.js"></script>
  <script src="../../shared/js/interactive/activities/fill-blank-activity.js"></script>
  <script src="../../shared/js/interactive/activities/sequence-activity.js"></script>
  <script src="../../shared/js/interactive/activities/drag-drop-activity.js"></script>
  <script src="../../shared/js/interactive/activities/connect-edges-activity.js"></script>
  <script src="../../shared/js/interactive/activities/scenario-activity.js"></script>
  <script src="../../shared/js/interactive/activities/prediction-activity.js"></script>
  <script src="../../shared/js/interactive/activities/reflection-activity.js"></script>
  <script src="../../shared/js/interactive/activities/graph-builder-activity.js"></script>
  <script src="../../shared/js/interactive/activity-carousel.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      // Initialize Firebase FIRST
      if (window.FirebaseApp) {
        window.FirebaseApp.init();
        console.log('âœ… Firebase initialized');
      }
      
      // Initialize AuthService and wait for auth state
      if (window.AuthService) {
        window.AuthService.init();
        await window.AuthService.waitForAuthState();
        console.log('ğŸ‘¤ Auth ready:', window.AuthService.getUser()?.email || 'not signed in');
      }
      
      // Initialize ActivityTracker AFTER auth is ready
      const courseId = document.body.dataset.course;
      const lessonId = document.body.dataset.lesson;
      if (courseId && lessonId && window.ActivityTracker) {
        ActivityTracker.init(courseId, lessonId);
        console.log('ğŸ¯ ActivityTracker initialized:', courseId, lessonId);
      }

      // Initialize page animations
      DiagramUtils.initPageAnimations();
      DiagramUtils.setupBackToTop();

      // Load story and quiz data from JSON
      const response = await fetch('story.json');
      const pageData = await response.json();

      // Create a shared audio engine pointing to the audio folder
      const audioEngine = new AudioNarrationEngine('audio');

      // ============================================
      // DIAGRAM ELEMENTS (Cytoscape data)
      // ============================================

      const diagramElements = {
        'quest': [
          // Core message
          { data: { id: 'not-school', label: 'ğŸ¯ Not a\nSchool Project', type: 'external', description: 'This is a product' } },
          // Three pillars
          { data: { id: 'deployed', label: 'ğŸŒ Deployed\nLive URL', type: 'concept', description: 'On the internet, not localhost' } },
          { data: { id: 'tested', label: 'âœ… Tested\nCI/CD', type: 'data', description: 'Automated tests in pipeline' } },
          { data: { id: 'documented', label: 'ğŸ“š Documented\nREADME + API', type: 'service', description: 'Professional communication' } },
          // Result
          { data: { id: 'portfolio-piece', label: 'ğŸ’¼ Interview\nReady', type: 'page', description: 'Show recruiters real work' } },
          // Edges
          { data: { source: 'not-school', target: 'deployed' } },
          { data: { source: 'not-school', target: 'tested' } },
          { data: { source: 'not-school', target: 'documented' } },
          { data: { source: 'deployed', target: 'portfolio-piece' } },
          { data: { source: 'tested', target: 'portfolio-piece' } },
          { data: { source: 'documented', target: 'portfolio-piece' } }
        ],

        'architecture': [
          // Choose path
          { data: { id: 'choose-path', label: 'ğŸ›¤ï¸ Choose\nYour Path', type: 'external', description: 'Three options' } },
          // Three options
          { data: { id: 'dev-tool', label: 'ğŸ”§ Developer\nTool', type: 'concept', description: 'CLI or web tool for devs' } },
          { data: { id: 'saas-product', label: 'â˜ï¸ SaaS\nProduct', type: 'data', description: 'Web app with auth' } },
          { data: { id: 'api-platform', label: 'ğŸ”Œ API\nPlatform', type: 'service', description: 'Backend for developers' } },
          // Result
          { data: { id: 'full-stack', label: 'ğŸ—ï¸ Full-Stack\nArchitecture', type: 'page', description: 'FastAPI + PostgreSQL + CI/CD' } },
          // Edges
          { data: { source: 'choose-path', target: 'dev-tool' } },
          { data: { source: 'choose-path', target: 'saas-product' } },
          { data: { source: 'choose-path', target: 'api-platform' } },
          { data: { source: 'dev-tool', target: 'full-stack' } },
          { data: { source: 'saas-product', target: 'full-stack' } },
          { data: { source: 'api-platform', target: 'full-stack' } }
        ],

        'requirements': [
          // Four pillars
          { data: { id: 'four-pillars', label: 'ğŸ›ï¸ Four\nPillars', type: 'external', description: 'Production requirements' } },
          { data: { id: 'code-quality', label: 'ğŸ“ Code\nQuality', type: 'concept', description: 'Tests, types, formatting' } },
          { data: { id: 'data-layer', label: 'ğŸ—„ï¸ Data\nLayer', type: 'data', description: 'Database, migrations, cache' } },
          { data: { id: 'api-layer', label: 'ğŸ”Œ API\nLayer', type: 'service', description: 'REST, docs, auth' } },
          { data: { id: 'deployment', label: 'ğŸš€ Deploy\nment', type: 'auth', description: 'CI/CD, hosting, monitoring' } },
          // Result
          { data: { id: 'production-ready', label: 'âœ¨ Production\nReady', type: 'page', description: 'Real system, not a toy' } },
          // Edges
          { data: { source: 'four-pillars', target: 'code-quality' } },
          { data: { source: 'four-pillars', target: 'data-layer' } },
          { data: { source: 'four-pillars', target: 'api-layer' } },
          { data: { source: 'four-pillars', target: 'deployment' } },
          { data: { source: 'code-quality', target: 'production-ready' } },
          { data: { source: 'data-layer', target: 'production-ready' } },
          { data: { source: 'api-layer', target: 'production-ready' } },
          { data: { source: 'deployment', target: 'production-ready' } }
        ],

        'quality': [
          // The gap
          { data: { id: 'the-difference', label: 'ğŸ’ Quality\nGap', type: 'external', description: 'School vs Production' } },
          // Comparisons
          { data: { id: 'works-vs-deployed', label: 'ğŸŒ Works â†’\nDeployed', type: 'concept', description: 'Live URL, not localhost' } },
          { data: { id: 'print-vs-logging', label: 'ğŸ“Š Print â†’\nLogging', type: 'data', description: 'Structured with levels' } },
          { data: { id: 'pass-vs-handle', label: 'ğŸ›¡ï¸ Pass â†’\nHandle', type: 'auth', description: 'Proper error handling' } },
          { data: { id: 'no-tests-vs-coverage', label: 'âœ… None â†’\n80%+ Tests', type: 'service', description: 'Coverage in CI' } },
          // Result
          { data: { id: 'senior-standard', label: 'ğŸ† Senior\nStandard', type: 'page', description: 'Professional practices' } },
          // Edges
          { data: { source: 'the-difference', target: 'works-vs-deployed' } },
          { data: { source: 'the-difference', target: 'print-vs-logging' } },
          { data: { source: 'the-difference', target: 'pass-vs-handle' } },
          { data: { source: 'the-difference', target: 'no-tests-vs-coverage' } },
          { data: { source: 'works-vs-deployed', target: 'senior-standard' } },
          { data: { source: 'print-vs-logging', target: 'senior-standard' } },
          { data: { source: 'pass-vs-handle', target: 'senior-standard' } },
          { data: { source: 'no-tests-vs-coverage', target: 'senior-standard' } }
        ]
      };

      // ============================================
      // INITIALIZE STORYTELLING DIAGRAMS
      // ============================================

      // Map story IDs to diagram element keys
      const storyToDiagram = {
        'quest-story': 'quest',
        'architecture-story': 'architecture',
        'requirements-story': 'requirements',
        'quality-story': 'quality'
      };

      // Create storytelling diagrams for each story in the JSON
      pageData.stories.forEach(story => {
        const diagramKey = storyToDiagram[story.id];
        if (!diagramKey) return;

        const elements = diagramElements[diagramKey];
        if (!elements) return;

        new StorytellingDiagram(
          story.id,
          elements,
          story.steps,
          { audioEngine, storyId: story.id }
        );
      });

      // ============================================
      // INITIALIZE QUIZ CAROUSELS (Migrated from Quiz system)
      // ============================================

      const storyToQuizContainer = {
        'quest-story': 'quest-quiz',
        'architecture-story': 'architecture-quiz',
        'requirements-story': 'requirements-quiz',
        'quality-story': 'quality-quiz'
      };

      pageData.quizzes.forEach(quiz => {
        const containerId = storyToQuizContainer[quiz.storyId];
        if (!containerId) return;

        // Transform quiz questions to ActivityCarousel format
        const quizActivities = quiz.questions.map((q, i) => ({
          type: 'quiz',
          id: `${quiz.storyId}-quiz-${i + 1}`,
          question: q.question,
          options: q.options,
          correct: q.correct,
          explanation: q.explanation
        }));

        new ActivityCarousel(containerId, {
          type: 'knowledge-check',
          sectionId: quiz.storyId,
          title: 'ğŸ“ Knowledge Check',
          activities: quizActivities
        });
      });
    });
  </script>
</body>
</html>
